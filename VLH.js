var ASched_nextScheduledTimeInSeconds,ASched_schedulerList=[],ASched_minimumTimeGap=.1,ASched_init=function(){ASched_nextScheduledTimeInSeconds=.1;ASched_schedulerList=[]},ASched_finish=function(){var a=setTimeout(function(){ASched_postMessage_dispatchEvent({type:"FINISHED"})},1E3*ASched_nextScheduledTimeInSeconds);ASched_schedulerList.push({timerReference:a,messageDetails:{type:"FINISHED"},scheduledTime:ASched_nextScheduledTimeInSeconds})},ASched_postMessage=function(a){ASched_nextScheduledTimeInSeconds+=
ASched_minimumTimeGap;a.type="COMMAND";var b=setTimeout(function(){ASched_postMessage_dispatchEvent(a)},1E3*ASched_nextScheduledTimeInSeconds);ASched_schedulerList.push({timerReference:b,messageDetails:a,scheduledTime:ASched_nextScheduledTimeInSeconds})},ASched_wait=function(a){ASched_nextScheduledTimeInSeconds+=a},ASched_postMessage_dispatchEvent=function(a){a=new CustomEvent("ASched_message",{detail:a,bubbles:!0,cancelable:!0});document.dispatchEvent(a)};var ANIMATION_SPEED_NONE=0,ANIMATION_SPEED_NORMAL=1,ANIMATION_SPEED_FAST=2,animation_speed=ANIMATION_SPEED_NORMAL,standardWaitTime,shortWaitTime,longWaitTime,standardHeatTime,standardShakeTime,extraLongHeatTime,U_finish_protocol=function(){ASched_finish()},U_init_protocol=function(a){null!==a?U_set_animation_speed(a.animationSpeed):U_set_animation_speed(ANIMATION_SPEED_NORMAL);ASched_init()},U_load_scene=function(a){ASched_postMessage({command:"LoadScene('"+a+"')",narrative:"Loading "+a});ASched_wait(20)},
U_set_animation_speed=function(a){switch(a){case ANIMATION_SPEED_NONE:standardWaitTime=6;shortWaitTime=1;longWaitTime=10;standardShakeTime=standardHeatTime=5;extraLongHeatTime=90;standardFillDurationInSeconds=standardMoveDurationInSeconds=0;break;case ANIMATION_SPEED_FAST:standardWaitTime=.2;standardShakeTime=standardHeatTime=longWaitTime=shortWaitTime=1;extraLongHeatTime=3;standardFillDurationInSeconds=standardMoveDurationInSeconds=.1;break;default:standardWaitTime=6,shortWaitTime=1,longWaitTime=
10,standardShakeTime=standardHeatTime=5,extraLongHeatTime=90,standardFillDurationInSeconds=standardMoveDurationInSeconds=3}},U_show_details=function(a,b){ASched_postMessage({command:"ShowDetails('"+a+"',"+b.toString()+")",narrative:""})},U_show_narrative=function(a){ASched_postMessage({command:"",narrative:a});ASched_wait(standardWaitTime)},U_show_narrative_extended=function(a){ASched_postMessage({command:"ShowNarrativeExtended('"+a+"')",narrative:""})},U_store_scene=function(a){ASched_postMessage({command:"StoreScene('"+
a+"')",narrative:"Storing "+a});ASched_wait(20)},U_wait=function(a){ASched_wait(a)},C_discard_labware=function(a){ASched_postMessage({command:"MoveLabware('"+a+"',currentDeck,'Bin')",narrative:"Discarding labware "+a+" to Bin"});ASched_wait(standardWaitTime);ASched_postMessage({command:"RemoveLabware('"+a+"')",narrative:""})},C_discard_tips=function(){var a="D5";1==arguments.length&&(a=arguments[0]);ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+a+"',0,0,0)",narrative:"Moving head to position "+
a});ASched_wait(standardWaitTime);ASched_postMessage({command:"EjectTips(currentPipettorId)",narrative:"Ejecting tips"});ASched_wait(standardWaitTime)},C_heat=function(a,b,d){ASched_postMessage({command:"ModifyAppearance('"+a+"',"+b.toString()+")",narrative:"Incubation"});d&&ASched_wait(b+2)},C_incubate_on_magnet=function(a,b,d){ASched_postMessage({command:"ModifyAppearance('"+a+"',"+b.toString()+")",narrative:"Incubation on magnet"});d&&ASched_wait(b+2)},C_load_tips=function(a,b,d,c){ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+
b+"',"+(-.009*c).toString()+",0,0)",narrative:"Loading "+d.toString()+" tip column(s) from "+b});ASched_wait(standardWaitTime);ASched_postMessage({command:"LoadTips(currentPipettorId,"+d.toString()+")",narrative:""});for(var e=c;e<c+d;e++)ASched_postMessage({command:"FillLabwareStatic('"+a+"','Column"+e.toString()+"','LiquidClassEmptyTips',0)",narrative:"Loading "+d.toString()+" tip column(s) from "+b});ASched_wait(standardWaitTime)},C_drop_tips=function(a,b,d,c){ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+
b+"',"+(-.009*c).toString()+",0,0)",narrative:"Dropping "+d.toString()+" tip column(s) from "+b});ASched_wait(standardWaitTime);ASched_postMessage({command:"LoadTips(currentPipettorId,0)",narrative:""});for(var e=c;e<c+d;e++)ASched_postMessage({command:"FillLabwareStatic('"+a+"','Column"+e.toString()+"','LiquidClassEmptyTips',1)",narrative:"Dropping "+d.toString()+" tip column(s) to "+b});ASched_wait(standardWaitTime)},C_mix=function(a,b,d,c,e,f){for(var g=[],h=c;h<c+d;h++)g.push("'Column"+h+"',");
h=getUniqueId();ASched_postMessage({command:"AddUnionClass('Liquid ' + '"+b+"','"+h+"',["+g+"])",narrative:""});ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+a+"',"+(-.009*(c-1)).toString()+",0,0)",narrative:"Moving head to "+a+", first column "+c.toString()});ASched_wait(standardWaitTime);for(a=0;6>a;a++){for(c=0;2>c;c++)ASched_postMessage({command:"FillPipettor(currentPipettorId,'"+e+"',"+f.toString()+")",narrative:""}),ASched_postMessage({command:"FillLabware('"+b+
"','"+h+"','"+e+"',"+-f.toString()+")",narrative:"Mixing in "+b+", Columns 1 to "+d.toString()});ASched_wait(standardWaitTime);f*=-1}ASched_postMessage({command:"RemoveClass('"+h+"')",narrative:""})},C_move_head=function(a){ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+a+"',0,0,0)",narrative:"Moving head to "+a});ASched_wait(standardWaitTime)},C_move_labware=function(a,b){ASched_postMessage({command:"MoveLabware('"+a+"',currentDeck,'"+b+"')",narrative:"Moving labware "+
a+" to "+b});ASched_wait(standardWaitTime)},C_set_deck=function(a){ASched_postMessage({command:"SetDeck('"+a+"')",narrative:"Changing deck to type '"+a+"'"});ASched_wait(standardWaitTime)},C_pipette=function(a,b,d,c,e,f){for(var g=(0<f?"Aspirating from ":"Dispensing to ")+b+", Columns 1 to "+d.toString(),h=[],k=c;k<c+d;k++)h.push("'Column"+k+"',");k=getUniqueId();ASched_postMessage({command:"AddUnionClass('Liquid ' + '"+b+"','"+k+"',["+h+"])",narrative:g});ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+
a+"',"+(-.009*(c-1)).toString()+",0,0)",narrative:g});ASched_wait(standardWaitTime);ASched_postMessage({command:"FillPipettor(currentPipettorId,'"+e+"',"+f.toString()+")",narrative:g});ASched_postMessage({command:"FillLabware('"+b+"','"+k+"','"+e+"',"+-f.toString()+")",narrative:(0<f?"Aspirating from ":"Dispensing to ")+b+", "+d.toString()+" column(s)"});ASched_wait(standardWaitTime);ASched_postMessage({command:"RemoveClass('"+k+"')",narrative:g})},C_pipette_384=function(a,b,d,c,e,f,g){var h=1;c=
2*(c-1);switch(e){case "A1":h=1;c+=1;break;case "A2":h=1;c+=2;break;case "B1":h=2;c+=1;break;case "B2":h=2,c+=2}for(var k=[],l=h;l<h+16;l+=2)for(var m="ABCDEFGHIJKLMNOP".split("")[l-1],n=c;n<c+2*d;n+=2)k.push("'Column"+n.toString()+" Row"+m+"',");h=getUniqueId();ASched_postMessage({command:"AddUnionClass('Liquid ' + '"+b+"','"+h+"',["+k+"])",narrative:""});k=0;switch(e){case "A1":case "A2":k=.00225;break;case "B1":case "B2":k=-.00225}ASched_postMessage({command:"MovePipettor(currentPipettorId,currentDeck,'"+
a+"',"+(.00225+-.0045*(c-1)).toString()+",0,"+k.toString()+")",narrative:"Moving head to "+a+", first column "+c.toString()+", quadrant "+e});ASched_wait(standardWaitTime);ASched_postMessage({command:"FillPipettor(currentPipettorId,'"+f+"',"+g.toString()+")",narrative:""});ASched_postMessage({command:"FillLabware('"+b+"','"+h+"','"+f+"',"+-g.toString()+")",narrative:(0<g?"Aspirating from ":"Dispensing to ")+b+", "+d.toString()+" column(s), quadrant "+e});ASched_wait(standardWaitTime);ASched_postMessage({command:"RemoveClass('"+
h+"')",narrative:""})},C_prepare_and_place_plate=function(a,b,d,c,e){var f;f="{";for(var g in e)if(e.hasOwnProperty(g)){var h=e[g].toString();"string"===typeof e[g]&&(h="'"+h+"'");f+="'"+g.toString()+"':"+h+","}ASched_postMessage({command:"new "+a+"('"+b+"','Labware_GROUP',currentDeck,'Desk',"+(f+"}")+")",narrative:"Preparing a new "+a+" plate ("+b+")"});ASched_wait(shortWaitTime);null!==c&&c.forEach(function(a,c,d){"wellId"in a&&ASched_postMessage({command:"FillLabware('"+b+"','WellId"+a.wellId.toString()+
"','"+a.liquidClass+"',"+a.relativeVolume.toString()+")",narrative:"Filling "+b+", well "+a.wellId.toString()+", reagent "+a.liquidClass});"column"in a&&ASched_postMessage({command:"FillLabware('"+b+"','Column"+a.column.toString()+"','"+a.liquidClass+"',"+a.relativeVolume.toString()+")",narrative:"Filling "+b+", Column "+a.column.toString()+", reagent "+a.liquidClass});"row"in a&&ASched_postMessage({command:"FillLabware('"+b+"','Row"+a.row.toString()+"','"+a.liquidClass+"',"+a.relativeVolume.toString()+
")",narrative:"Filling "+b+", Row "+a.row.toString()+", reagent "+a.liquidClass});ASched_wait(standardWaitTime)});ASched_postMessage({command:"MoveLabware('"+b+"',currentDeck,'"+d+"')",narrative:"Moving "+b+" to "+d});ASched_wait(standardWaitTime)},C_prepare_and_place_tip_box=function(a,b,d,c){var e;e="{";for(var f in c)if(c.hasOwnProperty(f)){var g=c[f].toString();"string"===typeof c[f]&&(g="'"+g+"'");e+="'"+f.toString()+"':"+g+","}ASched_postMessage({command:"new TipBox96('"+a+"','Labware_GROUP',currentDeck,'Desk',"+
(e+"}")+")",narrative:""});ASched_wait(shortWaitTime);c="an empty";e="0";d&&(c="a full",e="1");ASched_postMessage({command:"FillLabwareStatic('"+a+"','','LiquidClassEmptyTips',"+e+")",narrative:"Preparing "+c+" tip box ("+a+")"});ASched_wait(standardWaitTime);ASched_postMessage({command:"MoveLabware('"+a+"',currentDeck,'"+b+"')",narrative:"Moving tipbox "+a+" to "+b});ASched_wait(standardWaitTime)},C_shake=function(a,b){ASched_postMessage({command:"ShakeLabware('"+a+"',"+b.toString()+")",narrative:"Shaking "+
a+" for "+b.toString()+" seconds"});ASched_wait(standardWaitTime)},getUniqueId=function(a){var b=(new Date).getTime(),b=b+parseInt(100*Math.random()).toString();void 0===a&&(a="uid-");return a+b};window.SetDeck=SetDeck;window.SetPipettor=SetPipettor;window.StartProtocolAnimation=StartProtocolAnimation;
var standardMoveDurationInSeconds=3,standardFillDurationInSeconds=3,animationDurationLowerLimit=.1,currentDeck,currentDeckId="DECK1",currentPipettor,currentPipettorId="PIPETTOR1",moveLabware_transformNode=null,moveLabware_positionInterpolator=null,moveLabware_timeSensor=null,moveLabware_route1=null,moveLabware_route2=null,moveLabware_finalTranslationString=null,moveLabware_hasToAnimate=1,MoveLabware=function(a,b,d){var c=standardMoveDurationInSeconds;moveLabware_transformNode=document.getElementsByClassName("Labware TRANSFORM "+
a).item(0);a=b.Location[d];moveLabware_finalTranslationString=a.x.toString()+" "+a.y.toString()+" "+a.z.toString();moveLabware_hasToAnimate=1;if(c<=animationDurationLowerLimit)moveLabware_hasToAnimate=0,MoveLabware_animationComplete();else{d=moveLabware_transformNode.getAttribute("DEF");b=getUniqueId();var e=getUniqueId();moveLabware_route1=document.createElement("ROUTE");moveLabware_route1.setAttribute("fromNode",b);moveLabware_route1.setAttribute("fromField","fraction_changed");moveLabware_route1.setAttribute("toNode",
e);moveLabware_route1.setAttribute("toField","set_fraction");moveLabware_route2=document.createElement("ROUTE");moveLabware_route2.setAttribute("fromNode",e);moveLabware_route2.setAttribute("fromField","value_changed");moveLabware_route2.setAttribute("toNode",d);moveLabware_route2.setAttribute("toField","set_translation");moveLabware_timeSensor=document.createElement("TimeSensor");moveLabware_timeSensor.setAttribute("DEF",b);moveLabware_timeSensor.setAttribute("id",b);moveLabware_timeSensor.setAttribute("cycleInterval",
c.toString());moveLabware_timeSensor.setAttribute("loop","false");moveLabware_timeSensor.setAttribute("onoutputchange","MoveLabware_timerOutputChanged(event)");moveLabware_positionInterpolator=document.createElement("PositionInterpolator");moveLabware_positionInterpolator.setAttribute("DEF",e);moveLabware_positionInterpolator.setAttribute("key","0.00 0.25 0.75 1.00");c=moveLabware_transformNode.getFieldValue("translation");d=moveLabware_transformNode.getAttribute("translation");moveLabware_positionInterpolator.setAttribute("keyValue",
d+" "+(c.x.toString()+" "+(c.y+.06).toString()+" "+c.z.toString())+" "+(a.x.toString()+" "+(a.y+.06).toString()+" "+a.z.toString())+" "+moveLabware_finalTranslationString);document.getElementById("Scene").appendChild(moveLabware_positionInterpolator);document.getElementById("Scene").appendChild(moveLabware_timeSensor);document.getElementById("Scene").appendChild(moveLabware_route1);document.getElementById("Scene").appendChild(moveLabware_route2);document.getElementById(b).setAttribute("startTime",
((new Date).getTime()/1E3).toString())}},MoveLabware_timerOutputChanged=function(a){"outputchange"==a.type&&"isActive"==a.fieldName&&!1==a.value&&MoveLabware_animationComplete()},MoveLabware_animationComplete=function(){moveLabware_transformNode.setAttribute("translation",moveLabware_finalTranslationString);moveLabware_hasToAnimate&&(document.getElementById("Scene").removeChild(moveLabware_positionInterpolator),document.getElementById("Scene").removeChild(moveLabware_timeSensor),document.getElementById("Scene").removeChild(moveLabware_route1),
document.getElementById("Scene").removeChild(moveLabware_route2));moveLabware_finalTranslationString=moveLabware_route2=moveLabware_route1=moveLabware_timeSensor=moveLabware_positionInterpolator=moveLabware_transformNode=null},movePipettor_transformNode=null,movePipettor_positionInterpolator=null,movePipettor_timeSensor=null,movePipettor_route1=null,movePipettor_route2=null,movePipettor_finalTranslationString=null,movePipettor_hasToAnimate=1,MovePipettor=function(a,b,d,c,e,f){var g=standardMoveDurationInSeconds;
movePipettor_transformNode=document.getElementsByClassName("Pipettor TRANSFORM "+a).item(0);var h=movePipettor_transformNode.getFieldValue("translation"),k=movePipettor_transformNode.getAttribute("translation");movePipettor_finalTranslationString=(b.Location[d].x+c).toString()+" "+(h.y+e).toString()+" "+(b.Location[d].z+f).toString();movePipettor_hasToAnimate=1;if(g<=animationDurationLowerLimit)movePipettor_hasToAnimate=0,MovePipettor_animationComplete();else{var l=movePipettor_transformNode.getAttribute("DEF");
b=getUniqueId();var m=getUniqueId();movePipettor_route1=document.createElement("ROUTE");movePipettor_route1.setAttribute("fromNode",b);movePipettor_route1.setAttribute("fromField","fraction_changed");movePipettor_route1.setAttribute("toNode",m);movePipettor_route1.setAttribute("toField","set_fraction");movePipettor_route2=document.createElement("ROUTE");movePipettor_route2.setAttribute("fromNode",m);movePipettor_route2.setAttribute("fromField","value_changed");movePipettor_route2.setAttribute("toNode",
l);movePipettor_route2.setAttribute("toField","set_translation");movePipettor_timeSensor=document.createElement("TimeSensor");movePipettor_timeSensor.setAttribute("DEF",b);movePipettor_timeSensor.setAttribute("id",b);movePipettor_timeSensor.setAttribute("cycleInterval",g.toString());movePipettor_timeSensor.setAttribute("loop","false");movePipettor_timeSensor.setAttribute("onoutputchange","MovePipettor_timerOutputChanged(event)");movePipettor_positionInterpolator=document.createElement("PositionInterpolator");
movePipettor_positionInterpolator.setAttribute("DEF",m);movePipettor_positionInterpolator.setAttribute("key","0.00 1.00");movePipettor_positionInterpolator.setAttribute("keyValue",k+" "+movePipettor_finalTranslationString);document.getElementById("Scene").appendChild(movePipettor_positionInterpolator);document.getElementById("Scene").appendChild(movePipettor_timeSensor);document.getElementById("Scene").appendChild(movePipettor_route1);document.getElementById("Scene").appendChild(movePipettor_route2);
a=document.getElementsByClassName("Pipettor GROUP "+a).item(0);a.setAttribute("actualLocationOnDeck",d);a.setAttribute("actualLocationOffset",SFVec3fToString({x:c,y:h.y+e,z:f}));document.getElementById(b).setAttribute("startTime",((new Date).getTime()/1E3).toString())}},MovePipettor_timerOutputChanged=function(a){"outputchange"==a.type&&"isActive"==a.fieldName&&!1==a.value&&MovePipettor_animationComplete()},MovePipettor_animationComplete=function(){movePipettor_transformNode.setAttribute("translation",
movePipettor_finalTranslationString);movePipettor_hasToAnimate&&(document.getElementById("Scene").removeChild(movePipettor_positionInterpolator),document.getElementById("Scene").removeChild(movePipettor_timeSensor),document.getElementById("Scene").removeChild(movePipettor_route1),document.getElementById("Scene").removeChild(movePipettor_route2));movePipettor_finalTranslationString=movePipettor_route2=movePipettor_route1=movePipettor_timeSensor=movePipettor_positionInterpolator=movePipettor_transformNode=
null},shakeLabware_transformNode=null,shakeLabware_positionInterpolator=null,shakeLabware_timeSensor=null,shakeLabware_route1=null,shakeLabware_route2=null,shakeLabware_initialTranslationString=null,ShakeLabware=function(a,b){shakeLabware_transformNode=document.getElementsByClassName("Labware TRANSFORM ".concat(a)).item(0);var d=shakeLabware_transformNode.getAttribute("DEF"),c=getUniqueId(),e=getUniqueId();shakeLabware_route1=document.createElement("ROUTE");shakeLabware_route1.setAttribute("fromNode",
c);shakeLabware_route1.setAttribute("fromField","fraction_changed");shakeLabware_route1.setAttribute("toNode",e);shakeLabware_route1.setAttribute("toField","set_fraction");shakeLabware_route2=document.createElement("ROUTE");shakeLabware_route2.setAttribute("fromNode",e);shakeLabware_route2.setAttribute("fromField","value_changed");shakeLabware_route2.setAttribute("toNode",d);shakeLabware_route2.setAttribute("toField","set_translation");shakeLabware_timeSensor=document.createElement("TimeSensor");
shakeLabware_timeSensor.setAttribute("id",c);shakeLabware_timeSensor.setAttribute("cycleInterval","1");shakeLabware_timeSensor.setAttribute("loop","true");shakeLabware_positionInterpolator=document.createElement("PositionInterpolator");shakeLabware_positionInterpolator.setAttribute("DEF",e);shakeLabware_positionInterpolator.setAttribute("key","0.00 0.20 0.80 1.00");d=shakeLabware_transformNode.getFieldValue("translation");e=shakeLabware_transformNode.getAttribute("translation");shakeLabware_positionInterpolator.setAttribute("keyValue",
e+" "+((d.x+.005).toString()+" "+d.y.toString()+" "+d.z.toString())+" "+((d.x-.005).toString()+" "+d.y.toString()+" "+d.z.toString())+" "+e);document.getElementById("Scene").appendChild(shakeLabware_positionInterpolator);document.getElementById("Scene").appendChild(shakeLabware_timeSensor);document.getElementById("Scene").appendChild(shakeLabware_route1);document.getElementById("Scene").appendChild(shakeLabware_route2);document.getElementById(c).setAttribute("startTime",((new Date).getTime()/1E3).toString());
setTimeout(ShakeLabware_animationComplete,1010*b)},ShakeLabware_animationComplete=function(){shakeLabware_timeSensor.setAttribute("loop","false");shakeLabware_positionInterpolator.setAttribute("set_fraction",1);document.getElementById("Scene").removeChild(shakeLabware_positionInterpolator);document.getElementById("Scene").removeChild(shakeLabware_timeSensor);document.getElementById("Scene").removeChild(shakeLabware_route1);document.getElementById("Scene").removeChild(shakeLabware_route2);shakeLabware_initialTranslationString=
shakeLabware_route2=shakeLabware_route1=shakeLabware_timeSensor=shakeLabware_positionInterpolator=shakeLabware_transformNode=null},modifyAppearance_materialNode=null,modifyAppearance_colorInterpolator=null,modifyAppearance_timeSensor=null,modifyAppearance_route1=null,modifyAppearance_route2=null,modifyAppearance_initialEmissiveColorString=null,ModifyAppearance=function(a,b){modifyAppearance_materialNode=document.getElementsByClassName("Deck Locator MATERIAL "+a).item(0);var d=modifyAppearance_materialNode.getAttribute("DEF"),
c=getUniqueId(),e=getUniqueId();modifyAppearance_route1=document.createElement("ROUTE");modifyAppearance_route1.setAttribute("fromNode",c);modifyAppearance_route1.setAttribute("fromField","fraction_changed");modifyAppearance_route1.setAttribute("toNode",e);modifyAppearance_route1.setAttribute("toField","set_fraction");modifyAppearance_route2=document.createElement("ROUTE");modifyAppearance_route2.setAttribute("fromNode",e);modifyAppearance_route2.setAttribute("fromField","value_changed");modifyAppearance_route2.setAttribute("toNode",
d);modifyAppearance_route2.setAttribute("toField","emissiveColor");modifyAppearance_timeSensor=document.createElement("TimeSensor");modifyAppearance_timeSensor.setAttribute("id",c);modifyAppearance_timeSensor.setAttribute("cycleInterval","1");modifyAppearance_timeSensor.setAttribute("loop","true");modifyAppearance_colorInterpolator=document.createElement("ColorInterpolator");modifyAppearance_colorInterpolator.setAttribute("DEF",e);modifyAppearance_colorInterpolator.setAttribute("key","0.00 0.50 1.00");
d=modifyAppearance_materialNode.getAttribute("emissiveColor");modifyAppearance_colorInterpolator.setAttribute("keyValue",d+"  0.8 0.5 0.0 "+d);document.getElementById("Scene").appendChild(modifyAppearance_colorInterpolator);document.getElementById("Scene").appendChild(modifyAppearance_timeSensor);document.getElementById("Scene").appendChild(modifyAppearance_route1);document.getElementById("Scene").appendChild(modifyAppearance_route2);document.getElementById(c).setAttribute("startTime",((new Date).getTime()/
1E3).toString());setTimeout(ModifyAppearance_animationComplete,1010*b)},ModifyAppearance_animationComplete=function(){modifyAppearance_timeSensor.setAttribute("loop","false");modifyAppearance_colorInterpolator.setAttribute("set_fraction",1);document.getElementById("Scene").removeChild(modifyAppearance_colorInterpolator);document.getElementById("Scene").removeChild(modifyAppearance_timeSensor);document.getElementById("Scene").removeChild(modifyAppearance_route1);document.getElementById("Scene").removeChild(modifyAppearance_route2);
modifyAppearance_initialEmissiveColorString=modifyAppearance_route2=modifyAppearance_route1=modifyAppearance_timeSensor=modifyAppearance_colorInterpolator=modifyAppearance_materialNode=null},fillLabware_transformNodes=null,fillLabware_timeSensor=null,fillLabware_positionInterpolatorScale=null,fillLabware_positionInterpolatorTranslation=null,fillLabware_route1=null,fillLabware_route2=[],fillLabware_route3=null,fillLabware_route4=[],wellHeight,finalLiquidLevelHeight,fillLabware_hasToAnimate=1,FillLabwareStatic=
function(a,b,d,c){var e=parseFloat(document.getElementsByClassName("Labware GROUP "+a).item(0).getAttribute("wellHeight"));parseFloat(document.getElementsByClassName("Labware GROUP "+a).item(0).getAttribute("wellOffsetFromPlateBottom"));liquidLevelHeight=e*c;Array.prototype.slice.call(document.getElementsByClassName("Liquid CYLINDER "+b+" "+a)).forEach(function(a,b,e){a.setAttribute("wellContent_relativeVolume",c.toString());a.setAttribute("wellContent_liquidClass",d)});Array.prototype.slice.call(document.getElementsByClassName("Liquid MATERIAL "+
b+" "+a)).forEach(function(a,b,c){SetMaterialLiquid(a,d)});Array.prototype.slice.call(document.getElementsByClassName("Liquid TRANSFORM "+b+" "+a)).forEach(function(a,b,c){a.setAttribute("translation","0 "+(.5*(liquidLevelHeight-e)).toString()+" 0");a.setAttribute("scale","1 "+(.5*liquidLevelHeight).toString()+" 1")})},FillLabware=function(a,b,d,c){var e=standardFillDurationInSeconds;fillLabware_transformNodes=document.getElementsByClassName("Liquid TRANSFORM "+a+" "+b);wellHeight=parseFloat(document.getElementsByClassName("Labware GROUP "+
a).item(0).getAttribute("wellHeight"));parseFloat(document.getElementsByClassName("Labware GROUP "+a).item(0).getAttribute("wellOffsetFromPlateBottom"));var f=document.getElementsByClassName("Liquid CYLINDER "+b+" "+a).item(0),f=parseFloat(f.getAttribute("wellContent_relativeVolume")),g=c+f;0>g&&(g=0);1<g&&(g=1);c=wellHeight*f;finalLiquidLevelHeight=wellHeight*g;Array.prototype.slice.call(document.getElementsByClassName("Liquid MATERIAL "+b+" "+a)).forEach(function(a,b,c){SetMaterialLiquid(a,d)});
Array.prototype.slice.call(document.getElementsByClassName("Liquid CYLINDER "+b+" "+a)).forEach(function(a,b,c){a.setAttribute("wellContent_relativeVolume",g.toString())});if(e<=animationDurationLowerLimit)fillLabware_hasToAnimate=0,FillLabware_animationComplete();else{a=getUniqueId();var h=getUniqueId(),k=getUniqueId();fillLabware_route1=document.createElement("ROUTE");fillLabware_route1.setAttribute("fromNode",a);fillLabware_route1.setAttribute("fromField","fraction_changed");fillLabware_route1.setAttribute("toNode",
h);fillLabware_route1.setAttribute("toField","set_fraction");fillLabware_route3=document.createElement("ROUTE");fillLabware_route3.setAttribute("fromNode",a);fillLabware_route3.setAttribute("fromField","fraction_changed");fillLabware_route3.setAttribute("toNode",k);fillLabware_route3.setAttribute("toField","set_fraction");fillLabware_timeSensor=document.createElement("TimeSensor");fillLabware_timeSensor.setAttribute("DEF",a);fillLabware_timeSensor.setAttribute("id",a);fillLabware_timeSensor.setAttribute("cycleInterval",
e.toString());fillLabware_timeSensor.setAttribute("loop","false");fillLabware_timeSensor.setAttribute("onoutputchange","FillLabware_timerOutputChanged(event)");fillLabware_positionInterpolatorScale=document.createElement("PositionInterpolator");fillLabware_positionInterpolatorScale.setAttribute("DEF",h);fillLabware_positionInterpolatorTranslation=document.createElement("PositionInterpolator");fillLabware_positionInterpolatorTranslation.setAttribute("DEF",k);fillLabware_positionInterpolatorScale.setAttribute("key",
"0.00 1.00");fillLabware_positionInterpolatorScale.setAttribute("keyValue"," 1 "+(.5*c).toString()+" 1 1 "+(.5*finalLiquidLevelHeight).toString()+" 1 ");fillLabware_positionInterpolatorTranslation.setAttribute("key","0.00 1.00");fillLabware_positionInterpolatorTranslation.setAttribute("keyValue"," 0 "+(.5*(c-wellHeight)).toString()+" 0 0 "+(.5*(finalLiquidLevelHeight-wellHeight)).toString()+" 0 ");document.getElementById("Scene").appendChild(fillLabware_timeSensor);document.getElementById("Scene").appendChild(fillLabware_positionInterpolatorScale);
document.getElementById("Scene").appendChild(fillLabware_positionInterpolatorTranslation);document.getElementById("Scene").appendChild(fillLabware_route1);document.getElementById("Scene").appendChild(fillLabware_route3);Array.prototype.slice.call(fillLabware_transformNodes).forEach(function(a,b,c){fillLabware_transformNodeDEF=a.getAttribute("DEF");fillLabware_route2[b]=document.createElement("ROUTE");fillLabware_route2[b].setAttribute("fromNode",h);fillLabware_route2[b].setAttribute("fromField","value_changed");
fillLabware_route2[b].setAttribute("toNode",fillLabware_transformNodeDEF);fillLabware_route2[b].setAttribute("toField","scale");document.getElementById("Scene").appendChild(fillLabware_route2[b]);fillLabware_route4[b]=document.createElement("ROUTE");fillLabware_route4[b].setAttribute("fromNode",k);fillLabware_route4[b].setAttribute("fromField","value_changed");fillLabware_route4[b].setAttribute("toNode",fillLabware_transformNodeDEF);fillLabware_route4[b].setAttribute("toField","translation");document.getElementById("Scene").appendChild(fillLabware_route4[b])});
document.getElementById(a).setAttribute("startTime",((new Date).getTime()/1E3).toString())}},FillLabware_timerOutputChanged=function(a){"outputchange"==a.type&&"isActive"==a.fieldName&&!1==a.value&&FillLabware_animationComplete()},FillLabware_animationComplete=function(){Array.prototype.slice.call(fillLabware_transformNodes).forEach(function(a,b,d){a.setAttribute("scale"," 1 "+(.5*finalLiquidLevelHeight).toString()+" 1 ");a.setAttribute("translation"," 0 "+(.5*(finalLiquidLevelHeight-wellHeight)).toString()+
" 0 ")});fillLabware_hasToAnimate&&(document.getElementById("Scene").removeChild(fillLabware_positionInterpolatorScale),document.getElementById("Scene").removeChild(fillLabware_positionInterpolatorTranslation),document.getElementById("Scene").removeChild(fillLabware_timeSensor),document.getElementById("Scene").removeChild(fillLabware_route1),document.getElementById("Scene").removeChild(fillLabware_route3),fillLabware_route2.forEach(function(a){document.getElementById("Scene").removeChild(a)}),fillLabware_route4.forEach(function(a){document.getElementById("Scene").removeChild(a)}));
fillLabware_route1=fillLabware_positionInterpolatorTranslation=fillLabware_positionInterpolatorScale=fillLabware_timeSensor=fillLabware_transformNodes=null;fillLabware_route2=[];fillLabware_route3=null;fillLabware_route4=[]},LoadTips=function(a,b){document.getElementsByClassName("Pipettor GROUP "+a).item(0).setAttribute("actualTipColumns",b);for(var d=1;12>=d;d++){var c=Array.prototype.slice.call(document.getElementsByClassName("Well TRANSFORM  Column"+d.toString()+" "+a)),e="1 0 1";d<=b&&(e="1 1 1");
c.forEach(function(a,b,c){a.setAttribute("scale",e)})}},EjectTips=function(a){LoadTips(a,0);Array.prototype.slice.call(document.getElementsByClassName("Liquid MATERIAL "+a)).forEach(function(a,d,c){SetMaterialLiquid(a,"LiquidClassEmptyTips")})},fillPipettor_transformNodes=null,fillPipettor_timeSensor=null,fillPipettor_positionInterpolatorScale=null,fillPipettor_positionInterpolatorTranslation=null,fillPipettor_route1=null,fillPipettor_route2=[],fillPipettor_route3=null,fillPipettor_route4=[],tipLength,
finalLiquidLevelHeightInTip,FillPipettor=function(a,b,d){var c=standardFillDurationInSeconds;fillPipettor_transformNodes=document.getElementsByClassName("Liquid TRANSFORM "+a);tipLength=parseFloat(document.getElementsByClassName("Pipettor GROUP "+a).item(0).getAttribute("wellHeight"));var e=parseFloat(document.getElementsByClassName("Pipettor GROUP "+a).item(0).getAttribute("actualTipColumns")),f=document.getElementsByClassName("Liquid CYLINDER "+a).item(0),f=parseFloat(f.getAttribute("tipContent_relativeVolume")),
g=d+f;0>g&&(g=0);1<g&&(g=1);d=tipLength*f;finalLiquidLevelHeightInTip=tipLength*g;var f=getUniqueId(),h=getUniqueId(),k=getUniqueId();fillPipettor_route1=document.createElement("ROUTE");fillPipettor_route1.setAttribute("fromNode",f);fillPipettor_route1.setAttribute("fromField","fraction_changed");fillPipettor_route1.setAttribute("toNode",h);fillPipettor_route1.setAttribute("toField","set_fraction");fillPipettor_route3=document.createElement("ROUTE");fillPipettor_route3.setAttribute("fromNode",f);
fillPipettor_route3.setAttribute("fromField","fraction_changed");fillPipettor_route3.setAttribute("toNode",k);fillPipettor_route3.setAttribute("toField","set_fraction");fillPipettor_timeSensor=document.createElement("TimeSensor");fillPipettor_timeSensor.setAttribute("DEF",f);fillPipettor_timeSensor.setAttribute("id",f);fillPipettor_timeSensor.setAttribute("cycleInterval",c.toString());fillPipettor_timeSensor.setAttribute("loop","false");fillPipettor_timeSensor.setAttribute("onoutputchange","FillPipettor_timerOutputChanged(event)");
fillPipettor_positionInterpolatorScale=document.createElement("PositionInterpolator");fillPipettor_positionInterpolatorScale.setAttribute("DEF",h);fillPipettor_positionInterpolatorTranslation=document.createElement("PositionInterpolator");fillPipettor_positionInterpolatorTranslation.setAttribute("DEF",k);fillPipettor_positionInterpolatorScale.setAttribute("key","0.00 1.00");fillPipettor_positionInterpolatorScale.setAttribute("keyValue"," 1 "+(.5*d).toString()+" 1 1 "+(.5*finalLiquidLevelHeightInTip).toString()+
" 1 ");fillPipettor_positionInterpolatorTranslation.setAttribute("key","0.00 1.00");fillPipettor_positionInterpolatorTranslation.setAttribute("keyValue"," 0 "+(.5*(d-tipLength)).toString()+" 0 0 "+(.5*(finalLiquidLevelHeightInTip-tipLength)).toString()+" 0 ");document.getElementById("Scene").appendChild(fillPipettor_timeSensor);document.getElementById("Scene").appendChild(fillPipettor_positionInterpolatorScale);document.getElementById("Scene").appendChild(fillPipettor_positionInterpolatorTranslation);
document.getElementById("Scene").appendChild(fillPipettor_route1);document.getElementById("Scene").appendChild(fillPipettor_route3);Array.prototype.slice.call(fillPipettor_transformNodes).forEach(function(a,b,c){fillPipettor_transformNodeDEF=a.getAttribute("DEF");fillPipettor_route2[b]=document.createElement("ROUTE");fillPipettor_route2[b].setAttribute("fromNode",h);fillPipettor_route2[b].setAttribute("fromField","value_changed");fillPipettor_route2[b].setAttribute("toNode",fillPipettor_transformNodeDEF);
fillPipettor_route2[b].setAttribute("toField","scale");document.getElementById("Scene").appendChild(fillPipettor_route2[b]);fillPipettor_route4[b]=document.createElement("ROUTE");fillPipettor_route4[b].setAttribute("fromNode",k);fillPipettor_route4[b].setAttribute("fromField","value_changed");fillPipettor_route4[b].setAttribute("toNode",fillPipettor_transformNodeDEF);fillPipettor_route4[b].setAttribute("toField","translation");document.getElementById("Scene").appendChild(fillPipettor_route4[b])});
for(var l=1;12>=l;l++)Array.prototype.slice.call(document.getElementsByClassName("Liquid MATERIAL Column"+l.toString()+" "+a)).forEach(function(a,c,d){SetMaterialLiquid(a,l<=e?b:"LiquidClassEmptyTips")});Array.prototype.slice.call(document.getElementsByClassName("Liquid CYLINDER "+a)).forEach(function(a,b,c){a.setAttribute("tipContent_relativeVolume",g.toString())});c<=animationDurationLowerLimit?FillPipettor_animationComplete():document.getElementById(f).setAttribute("startTime",((new Date).getTime()/
1E3).toString())},FillPipettor_timerOutputChanged=function(a){"outputchange"==a.type&&"isActive"==a.fieldName&&!1==a.value&&FillPipettor_animationComplete()},FillPipettor_animationComplete=function(){Array.prototype.slice.call(fillLabware_transformNodes).forEach(function(a,b,d){a.setAttribute("translation"," 0 "+(.5*(finalLiquidLevelHeightInTip-tipLength)).toString()+" 0 ");a.setAttribute("scale"," 1 "+(.5*finalLiquidLevelHeightInTip).toString()+" 1 ")});document.getElementById("Scene").removeChild(fillPipettor_positionInterpolatorScale);
document.getElementById("Scene").removeChild(fillPipettor_positionInterpolatorTranslation);document.getElementById("Scene").removeChild(fillPipettor_timeSensor);document.getElementById("Scene").removeChild(fillPipettor_route1);document.getElementById("Scene").removeChild(fillPipettor_route3);fillPipettor_route2.forEach(function(a){document.getElementById("Scene").removeChild(a)});fillPipettor_route4.forEach(function(a){document.getElementById("Scene").removeChild(a)});fillPipettor_route1=fillPipettor_positionInterpolatorTranslation=
fillPipettor_positionInterpolatorScale=fillPipettor_timeSensor=fillPipettor_transformNodes=null;fillPipettor_route2=[];fillPipettor_route3=null;fillPipettor_route4=[]},StandardListener=function(a){switch(a.detail.type){case "SETANIMATIONTIMES":SetAnimationTimes(a.data.standardMoveDurationInSeconds,a.data.standardFillDurationInSeconds);break;case "FINISHED":TerminateProtocolAnimation();break;case "SYNTAXERROR":ReportSyntaxError();break;case "COMMAND":""!=a.detail.narrative&&(document.getElementById("BILLBOARD3").innerHTML=
a.detail.narrative),eval(a.detail.command)}},StartProtocolAnimation=function(a,b){CleanDeck(currentPipettorId,currentDeck);document.addEventListener("ASched_message",StandardListener,!1);ScheduleProtocol(a,b);document.getElementById("BILLBOARD4").innerHTML="Running "+a+"...";document.getElementById("BILLBOARD4").style.visibility="visible"},ScheduleProtocol=function(a,b){switch(a){case "autoQuantSeq":U_init_protocol(b);autoQuantSeq1();autoQuantSeq2();autoQuantSeq3();autoQuantSeq4();autoQuantSeq5();
autoQuantSeq6();U_finish_protocol();break;case "autoQuantSeq1":U_init_protocol(b);autoQuantSeq1();U_store_scene("autoQuantSeq_Scene1");U_finish_protocol();break;case "autoQuantSeq2":U_init_protocol(b);U_load_scene("autoQuantSeq_Scene1");autoQuantSeq2();U_store_scene("autoQuantSeq_Scene2");U_finish_protocol();break;case "autoQuantSeq3":U_init_protocol(b);U_load_scene("autoQuantSeq_Scene2");autoQuantSeq3();U_store_scene("autoQuantSeq_Scene3");U_finish_protocol();break;case "autoQuantSeq4":U_init_protocol(b);
U_load_scene("autoQuantSeq_Scene3");autoQuantSeq4();U_store_scene("autoQuantSeq_Scene4");U_finish_protocol();break;case "autoQuantSeq5":U_init_protocol(b);U_load_scene("autoQuantSeq_Scene4");autoQuantSeq5();U_store_scene("autoQuantSeq_Scene5");U_finish_protocol();break;case "autoQuantSeq6":U_init_protocol(b);U_load_scene("autoQuantSeq_Scene5");autoQuantSeq6();U_store_scene("autoQuantSeq_Scene6");U_finish_protocol();break;case "autoQuantSeq_STAR":U_init_protocol(b);autoQuantSeq_STAR_1();U_finish_protocol();
break;case "DEMO1":U_init_protocol(b),DEMO1(),U_finish_protocol()}},TerminateProtocolAnimation=function(){Finalize()},Finalize=function(){document.getElementById("BILLBOARD3").innerHTML="Ready.";document.getElementById("BILLBOARD4").style.visibility="hidden";ShowNarrativeExtended("")},ReportSyntaxError=function(){document.getElementById("BILLBOARD3").innerHTML="Syntax error in script.";document.getElementById("BILLBOARD4").style.visibility="hidden"},SetDeck=function(a){RemoveAllChildren("Labware_GROUP");
RemoveAllChildren("Deck_GROUP");switch(a){case "ZEPHYR":currentDeck=new Deck_ZEPHYR(currentDeckId,"Deck_GROUP");break;case "BRAVO":currentDeck=new Deck_BRAVO(currentDeckId,"Deck_GROUP");break;case "STARNGS":currentDeck=new Deck_STARNGS(currentDeckId,"Deck_GROUP");break;default:currentDeck=new Deck_SCICLONE(currentDeckId,"Deck_GROUP")}},SetPipettor=function(a,b){RemoveAllChildren("Pipettor_GROUP");switch(a){case "Pipettor8":currentPipettor=new Pipettor8(currentPipettorId,"Pipettor_GROUP",currentDeck,
currentDeck.parkingLocation,0,0,0,b);break;case "Pipettor96":currentPipettor=new Pipettor96(currentPipettorId,"Pipettor_GROUP",currentDeck,currentDeck.parkingLocation,0,0,0,b)}currentPipettor=new Pipettor8(currentPipettorId,"Pipettor_GROUP",currentDeck,currentDeck.parkingLocation,0,0,0,b)},RemoveLabware=function(a){a=document.getElementsByClassName("Labware TRANSFORM "+a).item(0);a.parentNode.removeChild(a)},RemoveAllChildren=function(a){for(node=document.getElementById(a);last=node.lastChild;)node.removeChild(last)},
CleanDeck=function(a,b){RemoveAllChildren("Labware_GROUP");MovePipettor(a,b,b.parkingLocation,0,0,0);EjectTips(a);ShowNarrativeExtended("")},ShowNarrativeExtended=function(a){""===a?document.getElementById("BILLBOARD5").style.visibility="hidden":(document.getElementById("BILLBOARD5").style.visibility="visible",document.getElementById("BILLBOARD5").innerHTML=a)},SetAnimationTimes=function(a,b){standardMoveDurationInSeconds=a;standardFillDurationInSeconds=b},StoreScene=function(a){var b=new XMLSerializer;
localStorage.setItem(a,b.serializeToString(document.getElementById("Pipettor_and_Labware_GROUP")))},LoadScene=function(a){a=localStorage.getItem(a);null!==a&&(RemoveAllChildren("Pipettor_and_Labware_GROUP"),document.getElementById("Pipettor_and_Labware_GROUP").insertAdjacentHTML("afterbegin",a))},ShowDetails=function(a,b){Array.prototype.slice.call(document.getElementsByClassName(a+" Details")).forEach(function(a,c,e){a.setAttribute("render",b?!0:!1)})},getUniqueId=function(a){var b=(new Date).getTime(),
b=b+parseInt(100*Math.random()).toString();void 0===a&&(a="uid-");return a+b},SFVec3fToString=function(a){return a.x.toString()+" "+a.y.toString()+" "+a.z.toString()},AddUnionClass=function(a,b,d){Array.prototype.slice.call(document.getElementsByClassName(a)).forEach(function(a,e,f){d.forEach(function(d,e,f){isToInclude=1;d.split(" ").forEach(function(b,d,e){a.classList.contains(b)||(isToInclude=0)});isToInclude&&a.classList.add(b)})})},RemoveClass=function(a){Array.prototype.slice.call(document.getElementsByClassName(a)).forEach(function(b,
d,c){b.classList.remove(a)})};function Deck_SCICLONE(a,b){this.id=a;this.parentGroupId=b;this.deck=new Deck(a,b);this.deck.Location={A0:new x3dom.fields.SFVec3f(.3575,0,.1*1.5),A1:new x3dom.fields.SFVec3f(.143*1.5,0,.1*1.5),A2:new x3dom.fields.SFVec3f(.0715,0,.1*1.5),A3:new x3dom.fields.SFVec3f(-.0715,0,.1*1.5),A4:new x3dom.fields.SFVec3f(.143*-1.5,0,.1*1.5),A5:new x3dom.fields.SFVec3f(-.3575,0,.1*1.5),B0:new x3dom.fields.SFVec3f(.3575,0,.05),B1:new x3dom.fields.SFVec3f(.143*1.5,0,.05),B2:new x3dom.fields.SFVec3f(.0715,0,.05),
B2a:new x3dom.fields.SFVec3f(.0715,.015,.05),B3:new x3dom.fields.SFVec3f(-.0715,0,.05),B4:new x3dom.fields.SFVec3f(.143*-1.5,0,.05),B4a:new x3dom.fields.SFVec3f(.143*-1.5,.015,.05),B5:new x3dom.fields.SFVec3f(-.3575,0,.05),C0:new x3dom.fields.SFVec3f(.3575,0,-.05),C1:new x3dom.fields.SFVec3f(.143*1.5,0,-.05),C2:new x3dom.fields.SFVec3f(.0715,0,-.05),C3:new x3dom.fields.SFVec3f(-.0715,0,-.05),C4:new x3dom.fields.SFVec3f(.143*-1.5,0,-.05),C5:new x3dom.fields.SFVec3f(-.3575,0,-.05),C5a:new x3dom.fields.SFVec3f(-.3575,
.015,-.05),D0:new x3dom.fields.SFVec3f(.3575,0,.1*-1.5),D1:new x3dom.fields.SFVec3f(.143*1.5,0,.1*-1.5),D2:new x3dom.fields.SFVec3f(.0715,0,.1*-1.5),D3:new x3dom.fields.SFVec3f(-.0715,0,.1*-1.5),D4:new x3dom.fields.SFVec3f(.143*-1.5,0,.1*-1.5),D5:new x3dom.fields.SFVec3f(-.3575,0,.1*-1.5),Bin:new x3dom.fields.SFVec3f(.6,0,0),Desk:new x3dom.fields.SFVec3f(-.0715,0,.1*-3.5),PCR:new x3dom.fields.SFVec3f(.143*1.5,0,.1*-3.5)};this.Location=this.deck.Location;this.deck.Create();this.deck.SetDefaultMaterialLocator();
this.deck.SetLocatorProperties("A3",.02,"0.6 0.1 0.3");this.deck.SetLocatorProperties("A4",.02,"0.6 0.1 0.3");this.deck.SetLocatorProperties("D2",.02,"0.6 0.1 0.3");this.deck.SetLocatorProperties("D4",.02,"0.1 0.2 0.7");this.deck.SetLocatorProperties("C4",.01,"0.1 0.1 0.2");this.deck.SetLocatorProperties("D5",-.04,"0.3 0.3 0.3");this.deck.SetLocatorProperties("PCR",.02,"0.6 0.1 0.3");this.deck.SetLocatorProperties("Desk",0,"0.2 0.2 0.25");this.deck.SetLocatorProperties("Bin",0,"0.2 0.2 0.25");this.parkingLocation=
"A0"}
function Deck_ZEPHYR(a,b){this.id=a;this.parentGroupId=b;this.deck=new Deck(a,b);this.deck.Location={A1:new x3dom.fields.SFVec3f(.143*1.5,0,.1),A2:new x3dom.fields.SFVec3f(.0715,0,.1),A3:new x3dom.fields.SFVec3f(-.0715,0,.1),A4:new x3dom.fields.SFVec3f(.143*-1.5,0,.1),B1:new x3dom.fields.SFVec3f(.143*1.5,0,0),B2:new x3dom.fields.SFVec3f(.0715,0,0),B3:new x3dom.fields.SFVec3f(-.0715,0,0),B4:new x3dom.fields.SFVec3f(.143*-1.5,0,0),C1:new x3dom.fields.SFVec3f(.143*1.5,0,-.1),C2:new x3dom.fields.SFVec3f(.0715,0,
-.1),C3:new x3dom.fields.SFVec3f(-.0715,0,-.1),C4:new x3dom.fields.SFVec3f(.143*-1.5,0,-.1),Bin:new x3dom.fields.SFVec3f(.4,0,0),Desk:new x3dom.fields.SFVec3f(-.0715,0,-.25),PCR:new x3dom.fields.SFVec3f(.143*1.5,0,.1*-3.5)};this.Location=this.deck.Location;this.deck.Create();this.deck.SetDefaultMaterialLocator();this.deck.SetLocatorProperties("A3",.01,"0.1 0.1 0.2");this.deck.SetLocatorProperties("B3",.02,"0.1 0.2 0.7");this.deck.SetLocatorProperties("A4",-.04,"0.3 0.3 0.3");this.deck.SetLocatorProperties("C2",
.02,"0.6 0.1 0.3");this.deck.SetLocatorProperties("Desk",0,"0.2 0.2 0.25");this.deck.SetLocatorProperties("Bin",0,"0.2 0.2 0.25");this.deck.SetLocatorProperties("PCR",.02,"0.6 0.1 0.3");this.parkingLocation="A1"}
function Deck_BRAVO(a,b){this.id=a;this.parentGroupId=b;this.deck=new Deck(a,b);this.deck.Location={1:new x3dom.fields.SFVec3f(.143,0,.1),2:new x3dom.fields.SFVec3f(0,0,.1),3:new x3dom.fields.SFVec3f(-.143,0,.1),4:new x3dom.fields.SFVec3f(.143,0,0),5:new x3dom.fields.SFVec3f(0,0,0),6:new x3dom.fields.SFVec3f(-.143,0,0),7:new x3dom.fields.SFVec3f(.143,0,-.1),8:new x3dom.fields.SFVec3f(0,0,-.1),9:new x3dom.fields.SFVec3f(-.143,0,-.1),Bin:new x3dom.fields.SFVec3f(.4,0,0),Desk:new x3dom.fields.SFVec3f(-.0715,
0,-.25)};this.Location=this.deck.Location;this.deck.Create();this.deck.SetDefaultMaterialLocator();this.deck.SetLocatorProperties("Desk",0,"0.2 0.2 0.25");this.deck.SetLocatorProperties("Bin",0,"0.2 0.2 0.25");this.parkingLocation="1"}
function Deck_STARNGS(a,b){this.id=a;this.parentGroupId=b;this.deck=new Deck(a,b);this.deck.Location={T11:new x3dom.fields.SFVec3f(.4576,0,.2),T12:new x3dom.fields.SFVec3f(.4576,0,.1),T13:new x3dom.fields.SFVec3f(.4576,0,0),T14:new x3dom.fields.SFVec3f(.4576,0,-.1),T15:new x3dom.fields.SFVec3f(.4576,0,-.2),T21:new x3dom.fields.SFVec3f(.3146,0,.2),T22:new x3dom.fields.SFVec3f(.3146,0,.1),T23:new x3dom.fields.SFVec3f(.3146,0,0),T24:new x3dom.fields.SFVec3f(.3146,0,-.1),T25:new x3dom.fields.SFVec3f(.3146,
0,-.2),1:new x3dom.fields.SFVec3f(.143*-1.2,0,.2),2:new x3dom.fields.SFVec3f(.143*-1.2,0,.1),3:new x3dom.fields.SFVec3f(.143*-1.2,0,0),MG:new x3dom.fields.SFVec3f(.143*-1.2,0,-.1),5:new x3dom.fields.SFVec3f(.143*-1.2,0,-.2),E1:new x3dom.fields.SFVec3f(.143*1.2,0,0),E2:new x3dom.fields.SFVec3f(.143*.7,0,0),E3:new x3dom.fields.SFVec3f(.0286,0,0),W1:new x3dom.fields.SFVec3f(-.04004,0,.2),W2:new x3dom.fields.SFVec3f(-.04004,0,.1),W3:new x3dom.fields.SFVec3f(-.04004,0,0),W4:new x3dom.fields.SFVec3f(-.04004,
0,-.1),W5:new x3dom.fields.SFVec3f(-.04004,0,-.2),Heat:new x3dom.fields.SFVec3f(-.3575,0,.17),Lid:new x3dom.fields.SFVec3f(-.3575,0,.06),Cool:new x3dom.fields.SFVec3f(-.3575,0,-.17),X:new x3dom.fields.SFVec3f(-.5005,0,0),Bin:new x3dom.fields.SFVec3f(.7,0,0),Desk:new x3dom.fields.SFVec3f(-.0715,0,.1*-3.5)};this.Location=this.deck.Location;this.deck.Create();this.deck.SetDefaultMaterialLocator();this.SetLocatorIrregular("W1",.25,1,"0.2 0.7 0.85");this.SetLocatorIrregular("W2",.25,1,"0.2 0.7 0.85");
this.SetLocatorIrregular("W3",.25,1,"0.2 0.7 0.85");this.SetLocatorIrregular("W4",.25,1,"0.2 0.7 0.85");this.SetLocatorIrregular("W5",.25,1,"0.2 0.7 0.85");this.SetLocatorIrregular("E1",.25,5.45,"0.2 0.7 0.2");this.SetLocatorIrregular("E2",.25,5.45,"0.2 0.7 0.2");this.SetLocatorIrregular("E3",.25,5.45,"0.2 0.7 0.2");this.SetLocatorIrregular("X",.25,2,"0.2 0.2 0.2");this.deck.SetLocatorProperties("1",.05,"0.1 0.1 0.2");this.deck.SetLocatorProperties("2",.05,"0.1 0.1 0.2");this.deck.SetLocatorProperties("3",
.05,"0.1 0.1 0.2");this.deck.SetLocatorProperties("MG",.04,"0.1 0.1 0.1");this.deck.SetLocatorProperties("5",.05,"0.1 0.1 0.2");this.deck.SetLocatorProperties("Heat",.05,"0.6 0.1 0.3");this.deck.SetLocatorProperties("Lid",.02,"0.1 0.1 0.1");this.deck.SetLocatorProperties("Cool",.05,"0.1 0.5 0.3");this.deck.SetLocatorProperties("Desk",0,"0.2 0.2 0.25");this.deck.SetLocatorProperties("Bin",0,"0.2 0.2 0.25");this.parkingLocation="T11"}
Deck_STARNGS.prototype.SetLocatorIrregular=function(a,b,d,c){document.getElementsByClassName("Deck Locator MATERIAL "+this.id+" "+a).item(0).setAttribute("diffuseColor",c);c=this.Location[a].x;var e=this.Location[a].y-1E-4,f=this.Location[a].z;document.getElementsByClassName("Deck Locator TRANSFORM1 "+this.id+" "+a).item(0).setAttribute("translation",new x3dom.fields.SFVec3f(c,e,f));document.getElementsByClassName("Deck Locator TRANSFORM2 "+this.id+" "+a).item(0).setAttribute("scale",new x3dom.fields.SFVec3f(b,
0,d))};function Deck(a,b){this.id=a;this.parentGroupId=b;this.LocatorModelThickness=5E-4;this.Location={}}
Deck.prototype.Create=function(){var a,b,d,c,e,f,g;a=document.createElement("Group");a.setAttribute("id",this.id);document.getElementById(this.parentGroupId).appendChild(a);var h=this;Object.getOwnPropertyNames(this.Location).forEach(function(k,l,m){b=document.createElement("Material");b.setAttribute("DEF",getUniqueId());d=document.createElement("Appearance");c=document.createElement("Shape");e=document.createElement("Box");f=document.createElement("Transform");g=document.createElement("Transform");
a.appendChild(f);f.appendChild(g);g.appendChild(c);c.appendChild(d);d.appendChild(b);c.appendChild(e);e.solid="true";e.ccw="false";f.setAttribute("translation","");f.setFieldValue("translation",h.Location[k]);f.setAttribute("scale","0.065 0.0005 0.045");f.classList.add(h.id,k,"Deck","Locator","TRANSFORM1");g.classList.add(h.id,k,"Deck","Locator","TRANSFORM2");b.classList.add(h.id,k,"Deck","Locator","MATERIAL");l=document.createElement("FontStyle");m=document.createElement("Text");b=document.createElement("Material");
d=document.createElement("Appearance");c=document.createElement("Shape");f=document.createElement("Transform");g=document.createElement("Transform");f.setAttribute("translation","");f.setAttribute("rotation","0 1 0 3.1416");g.setAttribute("translation","0  0 0.035 ");g.setAttribute("rotation","1 0 0 -1.5708");g.setAttribute("scale","0.07 0.07 0.07");b.setAttribute("diffuseColor","0.3 0.3 0.3");m.setAttribute("string",k);m.setAttribute("solid","true");l.setAttribute("family","SANS");l.setAttribute("justify",
'"MIDDLE" "MIDDLE" ');a.appendChild(f);m.appendChild(l);f.appendChild(g);f.setFieldValue("translation",h.Location[k]);g.appendChild(c);c.appendChild(m);c.appendChild(d);d.appendChild(b)})};Deck.prototype.SetDefaultMaterialLocator=function(){Array.prototype.slice.call(document.getElementsByClassName("Deck Locator MATERIAL "+this.id)).forEach(function(a,b,d){a.setAttribute("diffuseColor","0.6 0.6 0.9");a.setAttribute("emissiveColor","0 0 0");a.setAttribute("transparency","0.5")})};
Deck.prototype.SetLocatorProperties=function(a,b,d){document.getElementsByClassName("Deck Locator MATERIAL "+this.id+" "+a).item(0).setAttribute("diffuseColor",d);d=this.Location[a].x;var c=this.Location[a].y+.5*b-1E-4,e=this.Location[a].z;document.getElementsByClassName("Deck Locator TRANSFORM1 "+this.id+" "+a).item(0).setAttribute("translation",new x3dom.fields.SFVec3f(d,c,e));document.getElementsByClassName("Deck Locator TRANSFORM2 "+this.id+" "+a).item(0).setAttribute("scale",new x3dom.fields.SFVec3f(1,
1E3*b,1));this.Location[a].y+=b};TubeCarrier32.prototype=Object.create(UniversalPlate.prototype);TubeCarrier32.prototype.constructor=TubeCarrier32;
function TubeCarrier32(a,b,d,c,e){this.id=a;this.parentGroupId=b;UniversalPlate.call(this,a,b,"Labware",e);this.lowerBoxSizeX=.03;this.lowerBoxHeight=.01;this.lowerBoxSizeZ=.49;this.upperBoxSizeX=.025;this.upperBoxHeight=.07;this.upperBoxSizeZ=.485;this.wellHeight=.035;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.wellDescription=[];for(b=1;32>=b;b++)this.wellDescription.push({posX:0,posZ:-15.5*.015+.015*(32-b),wellId:b.toString(),shape:"CYLINDER",radius:.005,label:b.toString(),
labelOffsetX:.01,labelOffsetZ:-.004});null!=e&&"wellsToShowString"in e&&(this.wellsToShowString=e.wellsToShowString);this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=document.getElementsByClassName("Labware GROUP "+a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
TubeCarrier32.prototype.SetDefaultMaterialBodyAndWell=function(){var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL "+this.id)),a=a.concat(b);for(i=a.length;i--;)a[i].setAttribute("diffuseColor","0.8 0.8 0.2"),a[i].setAttribute("specularColor","0.8 0.8 0.2"),a[i].setAttribute("emissiveColor","0 0.01 0.01"),a[i].setAttribute("ambientIntensity","0.333"),a[i].setAttribute("shineness",
"0.1"),a[i].setAttribute("transparency","0.5")};TroughCarrier5.prototype=Object.create(UniversalPlate.prototype);TroughCarrier5.prototype.constructor=TroughCarrier5;
function TroughCarrier5(a,b,d,c,e){this.id=a;this.parentGroupId=b;UniversalPlate.call(this,a,b,"Labware",e);this.lowerBoxSizeX=.03;this.lowerBoxHeight=.01;this.lowerBoxSizeZ=.49;this.upperBoxSizeX=.025;this.upperBoxHeight=.07;this.upperBoxSizeZ=.485;this.wellHeight=.055;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.wellDescription=[{posX:0,posZ:.2,wellId:"1",shape:"INDEXEDFACESET",radiusX:.01,radiusZ:.04,label:"1",labelOffsetX:.01,labelOffsetZ:-.009},{posX:0,posZ:.1,wellId:"2",
shape:"INDEXEDFACESET",radiusX:.01,radiusZ:.04,label:"2",labelOffsetX:.01,labelOffsetZ:-.009},{posX:0,posZ:0,wellId:"3",shape:"INDEXEDFACESET",radiusX:.01,radiusZ:.04,label:"3",labelOffsetX:.01,labelOffsetZ:-.009},{posX:0,posZ:-.1,wellId:"4",shape:"INDEXEDFACESET",radiusX:.01,radiusZ:.04,label:"4",labelOffsetX:.01,labelOffsetZ:-.009},{posX:0,posZ:-.2,wellId:"5",shape:"INDEXEDFACESET",radiusX:.01,radiusZ:.04,label:"5",labelOffsetX:.01,labelOffsetZ:-.009}];null!=e&&"wellsToShowString"in e&&(this.wellsToShowString=
e.wellsToShowString);this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=document.getElementsByClassName("Labware GROUP "+a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
TroughCarrier5.prototype.SetDefaultMaterialBodyAndWell=function(){var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL "+this.id)),a=a.concat(b);for(i=a.length;i--;)a[i].setAttribute("diffuseColor","0.8 0.4 0.2"),a[i].setAttribute("specularColor","0.8 0.4 0.2"),a[i].setAttribute("emissiveColor","0 0.01 0.01"),a[i].setAttribute("ambientIntensity","0.333"),a[i].setAttribute("shineness",
"0.1"),a[i].setAttribute("transparency","0.5")};CoolTubeModule.prototype=Object.create(UniversalPlate.prototype);CoolTubeModule.prototype.constructor=CoolTubeModule;
function CoolTubeModule(a,b,d,c,e){this.id=a;this.parentGroupId=b;UniversalPlate.call(this,a,b,"Labware",e);this.lowerBoxSizeX=.115;this.lowerBoxHeight=.01;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.11;this.upperBoxHeight=.04;this.upperBoxSizeZ=.08;this.wellHeight=.035;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.wellDescription=[{posX:.0375,posZ:.0325,wellId:"1",shape:"CYLINDER",radius:.005,label:"1",labelOffsetX:.01,labelOffsetZ:-.003},{posX:.0225,posZ:.0325,wellId:"2",
shape:"CYLINDER",radius:.005},{posX:.0075,posZ:.0325,wellId:"3",shape:"CYLINDER",radius:.005},{posX:-.0075,posZ:.0325,wellId:"4",shape:"CYLINDER",radius:.005},{posX:-.0225,posZ:.0325,wellId:"5",shape:"CYLINDER",radius:.005},{posX:-.0375,posZ:.0325,wellId:"6",shape:"CYLINDER",radius:.005,label:"6",labelOffsetX:-.01,labelOffsetZ:-.003},{posX:.0375,posZ:.0065,wellId:"7",shape:"CYLINDER",radius:.005,label:"7",labelOffsetX:.01,labelOffsetZ:-.003},{posX:.0225,posZ:.0065,wellId:"8",shape:"CYLINDER",radius:.005},
{posX:.0075,posZ:.0065,wellId:"9",shape:"CYLINDER",radius:.005},{posX:-.0075,posZ:.0065,wellId:"10",shape:"CYLINDER",radius:.005},{posX:-.0225,posZ:.0065,wellId:"11",shape:"CYLINDER",radius:.005},{posX:-.0375,posZ:.0065,wellId:"12",shape:"CYLINDER",radius:.005,label:"12",labelOffsetX:-.01,labelOffsetZ:-.003},{posX:.0375,posZ:-.0065,wellId:"13",shape:"CYLINDER",radius:.005,label:"13",labelOffsetX:.01,labelOffsetZ:-.003},{posX:.0225,posZ:-.0065,wellId:"14",shape:"CYLINDER",radius:.005},{posX:.0075,
posZ:-.0065,wellId:"15",shape:"CYLINDER",radius:.005},{posX:-.0075,posZ:-.0065,wellId:"16",shape:"CYLINDER",radius:.005},{posX:-.0225,posZ:-.0065,wellId:"17",shape:"CYLINDER",radius:.005},{posX:-.0375,posZ:-.0065,wellId:"18",shape:"CYLINDER",radius:.005,label:"18",labelOffsetX:-.01,labelOffsetZ:-.003},{posX:.0375,posZ:-.0325,wellId:"19",shape:"CYLINDER",radius:.005,label:"19",labelOffsetX:.01,labelOffsetZ:-.003},{posX:.0225,posZ:-.0325,wellId:"20",shape:"CYLINDER",radius:.005},{posX:.0075,posZ:-.0325,
wellId:"21",shape:"CYLINDER",radius:.005},{posX:-.0075,posZ:-.0325,wellId:"22",shape:"CYLINDER",radius:.005},{posX:-.0225,posZ:-.0325,wellId:"23",shape:"CYLINDER",radius:.005},{posX:-.0375,posZ:-.0325,wellId:"24",shape:"CYLINDER",radius:.005,label:"24",labelOffsetX:-.01,labelOffsetZ:-.003}];null!=e&&"wellsToShowString"in e&&(this.wellsToShowString=e.wellsToShowString);this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=document.getElementsByClassName("Labware GROUP "+
a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
CoolTubeModule.prototype.SetDefaultMaterialBodyAndWell=function(){var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL "+this.id)),a=a.concat(b);for(i=a.length;i--;)a[i].setAttribute("diffuseColor","0.8 0.8 0.2"),a[i].setAttribute("specularColor","0.8 0.8 0.2"),a[i].setAttribute("emissiveColor","0 0.01 0.01"),a[i].setAttribute("ambientIntensity","0.333"),a[i].setAttribute("shineness",
"0.1"),a[i].setAttribute("transparency","0.5")};window.ShowHelp=ShowHelp;var ShowHelp=function(a){0==a?ShowNarrativeExtended(""):ShowNarrativeExtended('<p>Navigate your view by dragging the deck shown, Ctrl+drag is to pan, Alt+drag is to zoom.</p><p>Use the View buttons for specific views.</p><p>Restart button restarts normally; Restart (light mode) reduces animations (suitable for lower performance PC).</p><input type="button" value="Close" onclick="ShowHelp(0);"/>')};function SetMaterialLiquid(a,b){switch(b){case "LiquidClassYellow":case "FS2/E1":case "PM/E3":a.setAttribute("diffuseColor","0.9 0.7 0.0");a.setAttribute("emissiveColor","0.9 0.7 0.0");break;case "LiquidClassRed":case "PB":case "SMP":a.setAttribute("diffuseColor","0.9 0.1 0.0");a.setAttribute("emissiveColor","0.9 0.1 0.0");break;case "LiquidClassOrange":case "Eluate":a.setAttribute("diffuseColor","0.6 0.7 0.0");a.setAttribute("emissiveColor","0.6 0.7 0.0");break;case "LiquidClassGreen":case "BC":case "FS1":case "SS2/E2":a.setAttribute("diffuseColor",
"0.1 0.9 0.1");a.setAttribute("emissiveColor","0.1 0.9 0.1");break;case "LiquidClassBlue":case "EtOH":case "SS1":a.setAttribute("diffuseColor","0.0 0.1 1.0");a.setAttribute("emissiveColor","0.0 0.1 1.0");break;case "LiquidClassWhite":a.setAttribute("diffuseColor","0.9 1.0 0.9");a.setAttribute("emissiveColor","0.9 1.0 0.9");break;case "LiquidClassPink":case "PS":case "EB":case "RS1":case "SN":a.setAttribute("diffuseColor","1.0 0.24 0.48");a.setAttribute("emissiveColor","1.0 0.24 0.48");break;case "LiquidClassEmptyWells":a.setAttribute("diffuseColor",
"0.2 0.2 0.2");a.setAttribute("emissiveColor","0.2 0.2 0.2");break;case "LiquidClassEmptyTips":a.setAttribute("diffuseColor","0.4 0.4 0.6");a.setAttribute("specularColor","0.0 0.6 0.9");a.setAttribute("emissiveColor","0.9 0.9 0.4");a.setAttribute("ambientIntensity","0.333");a.setAttribute("shineness","0.1");a.setAttribute("transparency","0.5");break;default:a.setAttribute("diffuseColor","0.4 0.4 0.4"),a.setAttribute("emissiveColor","0.4 0.4 0.4")}};Pipettor96.prototype=Object.create(Plate96.prototype);Pipettor96.prototype.constructor=Pipettor96;
function Pipettor96(a,b,d,c,e,f,g,h){this.wellRadius=.003;this.wellShape="CYLINDER";Plate96.call(this,a,b,d,c,"Pipettor",this.wellShape,this.wellRadius,h);this.lowerBoxSizeZ=this.lowerBoxHeight=this.lowerBoxSizeX=0;this.upperBoxSizeX=.108;this.upperBoxHeight=.001;this.upperBoxSizeZ=.072;this.upperBoxElevation=.095;this.wellHeight=.05;this.wellOffsetFromPlateBottom=.07;this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);EjectTips(this.id);this.SetPosition(d,
c,e,f,g);b=document.getElementsByClassName("Pipettor GROUP "+a).item(0);b.setAttribute("wellHeight",this.wellHeight.toString());b.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString());b.setAttribute("actualTipColumns","0");document.getElementsByClassName("Liquid CYLINDER "+a).item(0).setAttribute("tipContent_relativeVolume","0")}
Pipettor96.prototype.SetDefaultMaterialBodyAndWell=function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL ".concat(this.id))),b=a.length;b--;)a[b].setAttribute("diffuseColor","0.9 0.9 0.2"),a[b].setAttribute("specularColor","0.9 0.9 0.2"),a[b].setAttribute("emissiveColor","0 0.01 0.04"),a[b].setAttribute("ambientIntensity","0.333"),a[b].setAttribute("shineness","0.5"),a[b].setAttribute("transparency","0.8");Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL CYLINDER "+
this.id)).forEach(function(a,b,e){SetMaterialLiquid(a,"LiquidClassEmptyTips")})};
Pipettor96.prototype.SetPosition=function(a,b,d,c,e){a=new x3dom.fields.SFVec3f(a.Location[b].x+d,this.defaultElevation+c,a.Location[b].z+e);document.getElementsByClassName("Pipettor TRANSFORM "+this.id).item(0).setAttribute("translation",SFVec3fToString(a));a=document.getElementsByClassName("Pipettor GROUP "+this.id).item(0);a.setAttribute("actualLocationOnDeck",b);a.setAttribute("actualLocationOffset",SFVec3fToString(new x3dom.fields.SFVec3f(d,this.defaultElevation+c,e)))};Pipettor8.prototype=Object.create(UniversalPlate.prototype);
Pipettor8.prototype.constructor=Pipettor96;
function Pipettor8(a,b,d,c,e,f,g,h){this.wellRadius=.003;this.wellShape="CYLINDER";UniversalPlate.call(this,a,b,"Pipettor",h);this.lowerBoxSizeZ=this.lowerBoxHeight=this.lowerBoxSizeX=0;this.upperBoxSizeX=.108;this.upperBoxHeight=.001;this.upperBoxSizeZ=.072;this.upperBoxElevation=.095;this.wellHeight=.05;this.wellOffsetFromPlateBottom=.07;this.wellDescription=[];for(b=1;8>=b;b++)h="ABCDEFGH".split("")[b-1],this.wellDescription.push({posX:-.05+11*.009,posZ:-.032+.009*(8-b),wellId:h,wellExtraClassListString:"Well"+
h,shape:this.wellShape,radius:this.wellRadius,radiusX:this.wellRadius,radiusZ:this.wellRadius});this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);EjectTips(this.id);this.SetPosition(d,c,e,f,g);d=document.getElementsByClassName("Pipettor GROUP "+a).item(0);d.setAttribute("wellHeight",this.wellHeight.toString());d.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString());d.setAttribute("actualTipColumns","0");document.getElementsByClassName("Liquid CYLINDER "+
a).item(0).setAttribute("tipContent_relativeVolume","0")}
Pipettor8.prototype.SetDefaultMaterialBodyAndWell=function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL ".concat(this.id))),b=a.length;b--;)a[b].setAttribute("diffuseColor","0.9 0.9 0.2"),a[b].setAttribute("specularColor","0.9 0.9 0.2"),a[b].setAttribute("emissiveColor","0 0.01 0.04"),a[b].setAttribute("ambientIntensity","0.333"),a[b].setAttribute("shineness","0.5"),a[b].setAttribute("transparency","0.8");Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL CYLINDER "+
this.id)).forEach(function(a,b,e){SetMaterialLiquid(a,"LiquidClassEmptyTips")})};
Pipettor8.prototype.SetPosition=function(a,b,d,c,e){a=new x3dom.fields.SFVec3f(a.Location[b].x+d,this.defaultElevation+c,a.Location[b].z+e);document.getElementsByClassName("Pipettor TRANSFORM "+this.id).item(0).setAttribute("translation",SFVec3fToString(a));a=document.getElementsByClassName("Pipettor GROUP "+this.id).item(0);a.setAttribute("actualLocationOnDeck",b);a.setAttribute("actualLocationOffset",SFVec3fToString(new x3dom.fields.SFVec3f(d,this.defaultElevation+c,e)))};function UniversalPlate(a,b,d,c){this.id=a;this.parentGroupId=b;this.classType=d;this.lowerBoxSizeX=.1;this.lowerBoxHeight=.01;this.lowerBoxSizeZ=.05;this.upperBoxSizeX=.1;this.upperBoxHeight=.07;this.upperBoxSizeZ=.05;this.upperBoxElevation=0;this.wellOffsetFromPlateBottom=this.wellHeight=.035;this.wellDescription=[{posX:0,posZ:0,label:"A1",shape:"CYLINDER",radius:.005}];this.wellsToShow=null;this.wellsToShowString="";null!=c&&"wellsToShowString"in c&&(this.wellsToShowString=c.wellsToShowString,
this.wellsToShow=this.wellsToShowString.split(" "))}
UniversalPlate.prototype.Create=function(){var a,b,d,c,e,f,g,h,k,l,m,n,t;t=document.createDocumentFragment();a=document.createElement("Transform");t.appendChild(a);a.setAttribute("DEF",getUniqueId());a.classList.add(this.id);a.classList.add(this.classType);a.classList.add("TRANSFORM");d=document.createElement("Group");a.appendChild(d);d.setAttribute("id",this.id);d.classList.add(this.id);d.classList.add(this.classType);d.classList.add("GROUP");b=document.createElement("Material");b.classList.add(this.id);
b.classList.add("Body");b.classList.add("MATERIAL");c=document.createElement("Appearance");f=document.createElement("Box");f.setAttribute("solid","true");f.setAttribute("ccw","false");f.setAttribute("size",this.lowerBoxSizeX.toString()+" "+this.lowerBoxHeight.toString()+" "+this.lowerBoxSizeZ.toString());e=document.createElement("Shape");a=document.createElement("Transform");a.setAttribute("translation","0 "+(.5*this.lowerBoxHeight).toString()+" 0 ");d.appendChild(a);a.appendChild(e);e.appendChild(f);
e.appendChild(c);c.appendChild(b);b=document.createElement("Material");b.classList.add(this.id);b.classList.add("Body");b.classList.add("MATERIAL");c=document.createElement("Appearance");f=document.createElement("Box");f.setAttribute("solid","true");f.setAttribute("ccw","false");f.setAttribute("size",this.upperBoxSizeX.toString()+" "+this.upperBoxHeight.toString()+" "+this.upperBoxSizeZ.toString());e=document.createElement("Shape");a=document.createElement("Transform");a.setAttribute("translation",
"0 "+(.5*this.upperBoxHeight+this.upperBoxElevation).toString()+" 0 ");d.appendChild(a);a.appendChild(e);e.appendChild(f);e.appendChild(c);c.appendChild(b);var q=document.createElement("Group");q.setAttribute("id",getUniqueId());q.classList.add(this.id);q.classList.add(this.classType);q.classList.add("Details");q.classList.add("GROUP");d.appendChild(q);var p=this;this.wellDescription.forEach(function(a,d,f){if(null===p.wellsToShow||-1!=p.wellsToShow.indexOf(a.wellId)){var r=document.createElement("Group");
r.classList.add("Well","GROUP");d=a.posX.toString()+" "+(.5*p.wellHeight+p.wellOffsetFromPlateBottom).toString()+" "+a.posZ.toString();switch(a.shape){case "INDEXEDFACESET":g=document.createElement("IndexedFaceSet");g.setAttribute("solid","false");g.setAttribute("creaseAngle","3.14");g.setAttribute("coordIndex","0 1 5 4 -1 1 2 6 5 -1 2 3 7 6 -1 3 0 4 7 -1 0 1 2 3 -1 ");f=document.createElement("Coordinate");f.setAttribute("point",(+a.radiusX).toString()+" "+(.5*-p.wellHeight).toString()+" "+(-a.radiusZ).toString()+
" "+(-a.radiusX).toString()+" "+(.5*-p.wellHeight).toString()+" "+(-a.radiusZ).toString()+" "+(-a.radiusX).toString()+" "+(.5*-p.wellHeight).toString()+" "+(+a.radiusZ).toString()+" "+(+a.radiusX).toString()+" "+(.5*-p.wellHeight).toString()+" "+(+a.radiusZ).toString()+" "+(+a.radiusX).toString()+" "+(.5*+p.wellHeight).toString()+" "+(-a.radiusZ).toString()+" "+(-a.radiusX).toString()+" "+(.5*+p.wellHeight).toString()+" "+(-a.radiusZ).toString()+" "+(-a.radiusX).toString()+" "+(.5*+p.wellHeight).toString()+
" "+(+a.radiusZ).toString()+" "+(+a.radiusX).toString()+" "+(.5*+p.wellHeight).toString()+" "+(+a.radiusZ).toString()+" ");g.appendChild(f);break;case "BOX":g=document.createElement("Box");g.setAttribute("size",(2*a.radiusX).toString()+" "+p.wellHeight.toString()+" "+(2*a.radiusZ).toString());g.setAttribute("solid","false");break;default:case "CYLINDER":g=document.createElement("Cylinder"),g.setAttribute("height",p.wellHeight.toString()),g.setAttribute("radius",a.radius.toString()),g.setAttribute("solid",
"false"),g.setAttribute("top","false"),g.setAttribute("bottom","true")}h=document.createElement("Material");c=document.createElement("Appearance");e=document.createElement("Shape");k=document.createElement("Transform");k.setAttribute("translation",d);q.appendChild(k);k.appendChild(r);r.appendChild(e);e.appendChild(g);e.appendChild(c);c.appendChild(h);switch(a.shape){case "BOX":case "INDEXEDFACESET":l=document.createElement("Box");l.setAttribute("size",(2.1*a.radiusX).toString()+" 2 "+(2.1*a.radiusZ).toString());
l.setAttribute("solid","true");break;default:case "CYLINDER":l=document.createElement("Cylinder"),l.setAttribute("radius",(1.05*a.radius).toString()),l.setAttribute("solid","true"),l.setAttribute("top","true"),l.setAttribute("bottom","true")}m=document.createElement("Material");c=document.createElement("Appearance");e=document.createElement("Shape");n=document.createElement("Transform");n.setAttribute("DEF",getUniqueId());g.classList.add(p.id,"Well","WellId"+a.wellId,"CYLINDER");k.classList.add(p.id,
"Well","WellId"+a.wellId,"TRANSFORM");h.classList.add(p.id,"Well","WellId"+a.wellId,"MATERIAL");l.classList.add(p.id,"Liquid","WellId"+a.wellId,"CYLINDER");n.classList.add(p.id,"Liquid","WellId"+a.wellId,"TRANSFORM");m.classList.add(p.id,"Liquid","WellId"+a.wellId,"MATERIAL");"wellExtraClassListString"in a&&a.wellExtraClassListString.split(" ").forEach(function(a,b,c){r.classList.add(a);g.classList.add(a);k.classList.add(a);h.classList.add(a);l.classList.add(a);n.classList.add(a);m.classList.add(a)});
r.appendChild(n);n.appendChild(e);e.appendChild(l);e.appendChild(c);c.appendChild(m);if("label"in a){d=(a.posX+("labelOffsetX"in a?a.labelOffsetX:.004)).toString()+" "+(0).toString()+" "+(a.posZ+("labelOffsetZ"in a?a.labelOffsetZ:.004)).toString();fontStyle=document.createElement("FontStyle");text=document.createElement("Text");b=document.createElement("Material");c=document.createElement("Appearance");e=document.createElement("Shape");f=document.createElement("Transform");var s=document.createElement("Transform");
f.setAttribute("translation",d);f.setAttribute("rotation","0 1 0 3.1416");s.setAttribute("translation","0 ".concat(p.upperBoxHeight.toString()," 0"));s.setAttribute("rotation","1 0 0 -1.5708");s.setAttribute("scale","0.0055 0.0055 0.0055");b.setAttribute("diffuseColor","0.2 0.2 0.2");text.setAttribute("string",a.label);text.setAttribute("solid","false");fontStyle.setAttribute("family","SANS");fontStyle.setAttribute("justify",'"MIDDLE" "MIDDLE"');q.appendChild(f);text.appendChild(fontStyle);f.appendChild(s);
s.appendChild(e);e.appendChild(text);e.appendChild(c);c.appendChild(b)}}});document.getElementById(this.parentGroupId).appendChild(t)};
UniversalPlate.prototype.SetWellContentEmpty=function(){var a=this;this.wellDescription.forEach(function(b,d,c){if(null===a.wellsToShow||-1!=a.wellsToShow.indexOf(b.wellId))d=document.getElementsByClassName("Liquid CYLINDER  WellId"+b.wellId+" "+a.id).item(0),d.setAttribute("wellContent_relativeVolume","0"),d.setAttribute("wellContent_liquidClass",""),d=document.getElementsByClassName("Liquid TRANSFORM  WellId"+b.wellId+" "+a.id).item(0),d.setAttribute("scale","1 0 1"),d.setAttribute("translation",
"0 "+(-.5*a.wellHeight).toString()+" 0"),b=document.getElementsByClassName("Liquid MATERIAL  WellId"+b.wellId+" "+a.id).item(0),SetMaterialLiquid(b,"LiquidClassEmptyWells")})};UniversalPlate.prototype.PlaceOnDeck=function(a,b){document.getElementsByClassName("TRANSFORM "+this.id+" "+this.classType).item(0).setAttribute("translation",SFVec3fToString(a.Location[b]));document.getElementsByClassName("GROUP "+this.id+" "+this.classType).item(0).setAttribute("actualLocationOnDeck",b)};
Plate96.prototype=Object.create(UniversalPlate.prototype);Plate96.prototype.constructor=Plate96;
function Plate96(a,b,d,c,e,f,g,h){if(null!=h&&"columnShownTo"in h)for(h.wellsToShowString="",d=1;d<=h.columnShownTo+1;d++)for(c=1;8>=c;c++){var k="ABCDEFGH".split("")[c-1],l=d.toString();h.wellsToShowString+=" "+k+l}UniversalPlate.call(this,a,b,e,h);this.lowerBoxSizeX=.127;this.lowerBoxHeight=.004;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.125;this.upperBoxHeight=.015;this.upperBoxSizeZ=.083;this.wellHeight=.013;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.wellRadius=g;
this.wellShape=f;this.wellDescription=[];for(d=1;12>=d;d++)for(c=1;8>=c;c++){k="ABCDEFGH".split("")[c-1];l=d.toString();a="";var m,n;1==d&&1==c?(a="A1",m=.0075,n=.0035):1==d?(a=k,m=.0075,n=-.003):1==c&&(a=l,m=0,n=.0035);this.wellDescription.push({posX:-.05+.009*(12-d),posZ:-.032+.009*(8-c),wellId:k+l,wellExtraClassListString:"Column"+l+" Row"+k+" Well"+k+l,shape:this.wellShape,radius:this.wellRadius,radiusX:this.wellRadius,radiusZ:this.wellRadius,label:a,labelOffsetX:m,labelOffsetZ:n})}}
HSP96.prototype=Object.create(Plate96.prototype);HSP96.prototype.constructor=HSP96;
function HSP96(a,b,d,c,e){this.wellRadius=.0025;this.wellShape="CYLINDER";Plate96.call(this,a,b,d,c,"Labware",this.wellShape,this.wellRadius,e);this.lowerBoxSizeX=.127;this.lowerBoxHeight=.004;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.125;this.upperBoxHeight=.015;this.upperBoxSizeZ=.083;this.wellHeight=.013;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=document.getElementsByClassName("Labware GROUP "+
a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
HSP96.prototype.SetDefaultMaterialBodyAndWell=function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL ".concat(this.id))),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL ".concat(this.id))),a=a.concat(b),b=a.length;b--;)a[b].setAttribute("diffuseColor","0.0 0.6 0.9"),a[b].setAttribute("specularColor","0.0 0.6 0.9"),a[b].setAttribute("emissiveColor","0 0.01 0.01"),a[b].setAttribute("ambientIntensity","0.333"),a[b].setAttribute("shineness",
"0.1"),a[b].setAttribute("transparency","0.5")};DeepWell96.prototype=Object.create(Plate96.prototype);DeepWell96.prototype.constructor=DeepWell96;
function DeepWell96(a,b,d,c,e){this.wellRadius=.004;this.wellShape="INDEXEDFACESET";Plate96.call(this,a,b,d,c,"Labware",this.wellShape,this.wellRadius,e);this.lowerBoxSizeX=.127;this.lowerBoxHeight=.004;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.125;this.upperBoxHeight=.043;this.upperBoxSizeZ=.083;this.wellHeight=.041;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=
document.getElementsByClassName("Labware GROUP "+a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
DeepWell96.prototype.SetDefaultMaterialBodyAndWell=function(){var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL "+this.id)),a=a.concat(b);for(i=a.length;i--;)a[i].setAttribute("diffuseColor","0.8 0.8 0.9"),a[i].setAttribute("specularColor","0.8 0.8 0.9"),a[i].setAttribute("emissiveColor","0 0.01 0.01"),a[i].setAttribute("ambientIntensity","0.333"),a[i].setAttribute("shineness","0.1"),
a[i].setAttribute("transparency","0.5")};TipBox96.prototype=Object.create(Plate96.prototype);TipBox96.prototype.constructor=TipBox96;
function TipBox96(a,b,d,c,e){this.wellRadius=.0025;this.wellShape="CYLINDER";Plate96.call(this,a,b,d,c,"Labware",this.wellShape,this.wellRadius,e);this.lowerBoxSizeX=.127;this.lowerBoxHeight=.002;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.125;this.upperBoxHeight=.055;this.upperBoxSizeZ=.083;this.wellHeight=.041;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=document.getElementsByClassName("Labware GROUP "+
a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
TipBox96.prototype.SetDefaultMaterialBodyAndWell=function(){var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL ".concat(this.id))),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL ".concat(this.id))),a=a.concat(b);for(i=a.length;i--;)a[i].setAttribute("diffuseColor","0.0 0.2 0.7"),a[i].setAttribute("specularColor","0.0 0.2 0.7"),a[i].setAttribute("emissiveColor","0 0.01 0.01"),a[i].setAttribute("ambientIntensity","0.333"),a[i].setAttribute("shineness",
"0.1"),a[i].setAttribute("transparency","0.3")};LidForHSP96.prototype=Object.create(UniversalPlate.prototype);LidForHSP96.prototype.constructor=LidForHSP96;function LidForHSP96(a,b,d,c){UniversalPlate.call(this,a,b,"Labware",null);this.lowerBoxSizeZ=this.lowerBoxHeight=this.lowerBoxSizeX=0;this.upperBoxSizeX=.128;this.upperBoxHeight=.009;this.upperBoxSizeZ=.085;this.upperBoxElevation=.009;this.wellDescription=[];this.Create();this.SetDefaultMaterialBody();this.PlaceOnDeck(d,c)}
LidForHSP96.prototype.SetDefaultMaterialBody=function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=a.length;b--;)a[b].setAttribute("diffuseColor","0.6 0.6 0.6"),a[b].setAttribute("specularColor","0.6 0.6 0.6"),a[b].setAttribute("emissiveColor","0 0.01 0.01"),a[b].setAttribute("ambientIntensity","0.333"),a[b].setAttribute("shineness","0.5"),a[b].setAttribute("transparency","0.5")};SealingFilmForHSP96.prototype=Object.create(UniversalPlate.prototype);
SealingFilmForHSP96.prototype.constructor=SealingFilmForHSP96;function SealingFilmForHSP96(a,b,d,c){UniversalPlate.call(this,a,b,"Labware",null);this.lowerBoxSizeZ=this.lowerBoxHeight=this.lowerBoxSizeX=0;this.upperBoxSizeX=.128;this.upperBoxHeight=.001;this.upperBoxSizeZ=.085;this.upperBoxElevation=.016;this.wellDescription=[];this.Create();this.SetDefaultMaterialBody();this.PlaceOnDeck(d,c)}
SealingFilmForHSP96.prototype.SetDefaultMaterialBody=function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=a.length;b--;)a[b].setAttribute("diffuseColor","0.8 0.8 0.2"),a[b].setAttribute("specularColor","0.8 0.8 0.2"),a[b].setAttribute("emissiveColor","0 0.01 0.01"),a[b].setAttribute("ambientIntensity","0.333"),a[b].setAttribute("shineness","0.8"),a[b].setAttribute("transparency","0.4")};LidForDeepWell96.prototype=Object.create(UniversalPlate.prototype);
LidForDeepWell96.prototype.constructor=LidForDeepWell96;function LidForDeepWell96(a,b,d,c){UniversalPlate.call(this,a,b,"Labware",null);this.lowerBoxSizeZ=this.lowerBoxHeight=this.lowerBoxSizeX=0;this.upperBoxSizeX=.128;this.upperBoxHeight=.009;this.upperBoxSizeZ=.085;this.upperBoxElevation=.038;this.wellDescription=[];this.Create();this.SetDefaultMaterialBody();this.PlaceOnDeck(d,c)}
LidForDeepWell96.prototype.SetDefaultMaterialBody=function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=a.length;b--;)a[b].setAttribute("diffuseColor","0.2 0.6 0.9"),a[b].setAttribute("specularColor","0.2 0.6 0.9"),a[b].setAttribute("emissiveColor","0 0.01 0.04"),a[b].setAttribute("ambientIntensity","0.333"),a[b].setAttribute("shineness","0.5"),a[b].setAttribute("transparency","0.5")};Plate384.prototype=Object.create(UniversalPlate.prototype);
Plate384.prototype.constructor=Plate384;
function Plate384(a,b,d,c,e,f,g,h){if(null!=h&&"columnShownTo"in h)for(h.wellsToShowString="",d=1;d<=h.columnShownTo+1;d++)for(c=1;16>=c;c++){var k="ABCDEFGHIJKLMNOP".split("")[c-1],l=d.toString();h.wellsToShowString+=" "+k+l}UniversalPlate.call(this,a,b,e,h);this.lowerBoxSizeX=.127;this.lowerBoxHeight=.002;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.125;this.upperBoxHeight=.015;this.upperBoxSizeZ=.083;this.wellHeight=.006;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.wellRadius=
g;this.wellShape=f;this.wellDescription=[];for(d=1;24>=d;d++)for(c=1;16>=c;c++){k="ABCDEFGHIJKLMNOP".split("")[c-1];l=d.toString();a="";var m,n;1==d&&1==c?(a="A1",m=.0075,n=.0035):1==d?(a=k,m=.0075,n=-.003):1==c&&(a=l,m=0,n=.0035);this.wellDescription.push({posX:-.05-.00225+.0045*(24-d),posZ:-.03425+.0045*(16-c),wellId:k+l,wellExtraClassListString:"Column"+l+" Row"+k+" Well"+k+l,shape:this.wellShape,radius:this.wellRadius,radiusX:this.wellRadius,radiusZ:this.wellRadius,label:a,labelOffsetX:m,labelOffsetZ:n})}}
Corning384.prototype=Object.create(Plate384.prototype);Corning384.prototype.constructor=Corning384;
function Corning384(a,b,d,c,e){this.wellRadius=.0015;this.wellShape="INDEXEDFACESET";Plate384.call(this,a,b,d,c,"Labware",this.wellShape,this.wellRadius,e);this.lowerBoxSizeX=.127;this.lowerBoxHeight=.002;this.lowerBoxSizeZ=.085;this.upperBoxSizeX=.125;this.upperBoxHeight=.01;this.upperBoxSizeZ=.083;this.wellHeight=.006;this.wellOffsetFromPlateBottom=this.upperBoxHeight-this.wellHeight;this.Create();this.SetDefaultMaterialBodyAndWell();this.SetWellContentEmpty();this.PlaceOnDeck(d,c);labwareGroup=
document.getElementsByClassName("Labware GROUP "+a).item(0);labwareGroup.setAttribute("wellHeight",this.wellHeight.toString());labwareGroup.setAttribute("wellOffsetFromPlateBottom",this.wellOffsetFromPlateBottom.toString())}
Corning384.prototype.SetDefaultMaterialBodyAndWell=function(){var a=Array.prototype.slice.call(document.getElementsByClassName("Body MATERIAL "+this.id)),b=Array.prototype.slice.call(document.getElementsByClassName("Well MATERIAL "+this.id)),a=a.concat(b);for(i=a.length;i--;)a[i].setAttribute("diffuseColor","0.7 0.7 0.7"),a[i].setAttribute("specularColor","0.7 0.7 0.7"),a[i].setAttribute("emissiveColor","0 0.01 0.09"),a[i].setAttribute("ambientIntensity","0.333"),a[i].setAttribute("shineness","0.1"),
a[i].setAttribute("transparency","0.5")};function autoQuantSeq1(){C_set_deck("SCICLONE");U_show_narrative_extended("You are watching a simulation of the <mark>autoQuantSeq</mark> automated protocol for 24 samples running on a liquid handler similar to <em>PerkinElmer Sciclone NGS</em>.<p>This is the run preparation phase. The operator has to fill the labware with defined reagents and place the labware on the deck.");U_wait(standardWaitTime);U_show_narrative_extended("We begin by placing some tip boxes on the deck. ");U_show_details("PIPETTOR1",
0);C_prepare_and_place_tip_box("TIPBOX1","C3",1);U_show_details("TIPBOX1",0);C_prepare_and_place_tip_box("TIPBOX2","A1",1);U_show_details("TIPBOX2",0);C_prepare_and_place_tip_box("TIPBOX3","B1",1);U_show_details("TIPBOX3",0);C_prepare_and_place_tip_box("TIPBOX4","C2",0,{columnShownTo:2});U_show_details("TIPBOX4",0);U_show_narrative_extended("We place a <mark>deep well for waste</mark> and another <mark>deep well filled with ethanol</mark>. We cover the ethanol plate with a lid. ");C_prepare_and_place_plate("DeepWell96",
"WASTE","A5",null,{columnShownTo:2});C_prepare_and_place_plate("DeepWell96","P1","B5",[{column:1,liquidClass:"EtOH",relativeVolume:.9},{column:2,liquidClass:"EtOH",relativeVolume:.9},{column:3,liquidClass:"EtOH",relativeVolume:.9}],{columnShownTo:2});U_show_details("WASTE",0);C_prepare_and_place_plate("LidForDeepWell96","P1Lid","B5",null);U_show_narrative_extended("We fill an <mark>HSP-96 plate with purification solution</mark> and place it on deck. ");C_prepare_and_place_plate("HSP96","P3","B2",
[{column:1,liquidClass:"PS",relativeVolume:.6},{column:2,liquidClass:"PS",relativeVolume:.6},{column:3,liquidClass:"PS",relativeVolume:.6}],{columnShownTo:2});U_wait(standardWaitTime);U_show_details("P1",0);U_show_narrative_extended("We fill an <mark>HSP-96 plate with magnetic beads</mark> and place it on deck. ");C_prepare_and_place_plate("HSP96","P2","B2a",[{column:1,liquidClass:"PB",relativeVolume:.6},{column:2,liquidClass:"PB",relativeVolume:.6},{column:3,liquidClass:"PB",relativeVolume:.6}],
{columnShownTo:2});U_show_details("P2",0);U_show_narrative_extended("We fill an <mark>HSP-96 plate with elution buffer</mark> and place it on deck. ");U_show_details("P4",1);C_prepare_and_place_plate("HSP96","P4","C5",[{column:1,liquidClass:"EB",relativeVolume:.6},{column:2,liquidClass:"EB",relativeVolume:.6},{column:3,liquidClass:"EB",relativeVolume:.6}],{columnShownTo:2});U_show_details("P3",0);U_show_narrative_extended("The <mark>HSP-96 plate with barcodes</mark> comes in the kit, so we place it on deck. The plate is covered with a lid. ");
C_prepare_and_place_plate("HSP96","P5","A2",[{column:1,liquidClass:"BC",relativeVolume:.6},{column:2,liquidClass:"BC",relativeVolume:.6},{column:3,liquidClass:"BC",relativeVolume:.6}],{columnShownTo:2});U_show_details("P4",0);C_prepare_and_place_plate("LidForHSP96","P5Lid","A2",null);U_show_narrative_extended("Now we fill another <mark>HSP-96 plate with the enzymatic kit reagents</mark> and place it on deck. ");C_prepare_and_place_plate("HSP96","P6","D2",[{column:12,liquidClass:"FS1",relativeVolume:.6},
{column:11,liquidClass:"FS2/E1",relativeVolume:.9},{column:10,liquidClass:"RS1",relativeVolume:.6},{column:9,liquidClass:"RS2",relativeVolume:.6},{column:8,liquidClass:"SS1",relativeVolume:.6},{column:6,liquidClass:"SS2/E2",relativeVolume:.6},{column:5,liquidClass:"PM/E3",relativeVolume:.9}]);U_show_details("P5",0);U_show_narrative_extended("Another <mark>HSP-96 plate with RNA samples</mark> is to be placed on deck and covered with a lid. ");C_prepare_and_place_plate("HSP96","P7","D4",[{column:1,
liquidClass:"SMP",relativeVolume:.2},{column:2,liquidClass:"SMP",relativeVolume:.2},{column:3,liquidClass:"SMP",relativeVolume:.2}],{columnShownTo:2});C_prepare_and_place_plate("LidForHSP96","P7Lid","D4",null);U_show_details("P6",0);U_show_narrative_extended("Now we add some additional empty labware which will be needed  during the protocol.");C_prepare_and_place_plate("HSP96","NONSTERILE","B4",null,{columnShownTo:-1});C_prepare_and_place_plate("HSP96","P12","C5a",null,{columnShownTo:2});U_show_details("P7",
0);U_show_details("NONSTERILE",0);U_show_details("P12",0);C_prepare_and_place_plate("Corning384","P10","A3",null,{columnShownTo:5});U_wait(standardWaitTime);U_show_details("P10",0);C_prepare_and_place_plate("Corning384","P11","B4a",null,{columnShownTo:5});U_wait(standardWaitTime);U_show_details("P11",0);U_wait(standardWaitTime);U_show_narrative_extended("Deck setup is finished. Now the operator starts the run. ");U_wait(standardWaitTime)}
function autoQuantSeq2(){U_show_details("PIPETTOR1",1);U_show_narrative_extended("The machine run starts by aliquoting some reagents to a 384-well plate in order to prepare it for transfer with 24 tips in parallel, to make sure all reactions(wells) receive the reagents at the same time.We call this process <em>pre-arraying</em>.<p> Now, we are pre-arraying the reagents <mark>FS1 (First strand cDNA synthesis mix No.1)</mark> and <mark> FS2/E1 (First strand cDNA synthesis mix No.2 with enzyme E1)</mark>.</p> ");U_show_details("TIPBOX1",
1);U_wait(standardWaitTime);C_load_tips("TIPBOX1","C3",1,12);U_show_details("TIPBOX1",0);U_show_details("P6",1);C_pipette("D2","P6",1,12,"FS1",.6);U_show_details("P6",0);U_show_details("P10",1);U_wait(standardWaitTime);C_pipette_384("A3","P10",1,1,"A1","FS1",-.2);C_pipette_384("A3","P10",1,2,"A1","FS1",-.2);C_pipette_384("A3","P10",1,3,"A1","FS1",-.2);U_show_details("P10",0);C_discard_tips();U_show_details("TIPBOX1",1);C_load_tips("TIPBOX1","C3",1,11);U_show_details("TIPBOX1",0);U_show_details("P6",
1);C_pipette("D2","P6",1,11,"FS2/E1",.9);U_show_details("P6",0);U_show_details("P10",1);C_pipette_384("A3","P10",1,1,"A2","FS2/E1",-.3);C_pipette_384("A3","P10",1,2,"A2","FS2/E1",-.3);C_pipette_384("A3","P10",1,3,"A2","FS2/E1",-.3);U_show_details("P10",0);C_discard_tips();U_show_narrative_extended("We discard the lid of the plate with samples and add the <mark>FS1 (First strand cDNA synthesis mix No.1)</mark> reagent from the prearrayed aliquots.");C_discard_labware("P7Lid");U_show_details("TIPBOX1",
1);C_load_tips("TIPBOX1","C3",3,8);U_show_details("TIPBOX1",0);U_show_details("P7",1);U_show_details("P10",1);C_pipette_384("A3","P10",3,1,"A1","FS1",.2);U_show_details("P10",0);C_pipette("D4","P7",3,1,"FS1",-.2);C_mix("D4","P7",3,1,"FS1",.25);C_move_head("A5");U_show_narrative_extended("The machine stops, the operator is asked to take the plate with samples seal it with film and place it on a PCR cycler. In the cycler,the samples are incubated at 85&#x2103; for 3 minutes, then cooled down to 37&#x2103;. <p> The oligodT primer containing an Illumina-compatible sequence at its 5end is hybridized to the RNA. <p>The operator then removes the sealing film, places the plate back on the deck, and resumes the run.");
C_move_labware("P7","Desk");C_move_labware("P7","PCR");C_prepare_and_place_plate("SealingFilmForHSP96","P7Film","PCR",null);C_heat("PCR",standardHeatTime,1);C_discard_labware("P7Film");C_move_labware("P7","Desk");C_move_labware("P7","D4");U_show_narrative_extended("We now add the <mark>FS2/E1 reagent (First strand cDNA synthesis mix No.2 with E1 enzyme)</mark>, then discard the tips and let the plate incubate on the thermal unit (location D4),  at 37&#x2103; for 15 minutes. <p>The reverse transription takes place.");
U_show_details("P10",1);C_pipette_384("A3","P10",3,1,"A2","FS2/E1",.3);U_show_details("P10",0);C_pipette("D4","P7",3,1,"FS2/E1",-.3);C_mix("D4","P7",3,1,"FS2/E1",.25);C_discard_tips();C_heat("D4",extraLongHeatTime,0);U_show_narrative_extended("During the incubation, we again pre-array two of the reagents. This time, these are the <mark>RS1 (RNA Removal solution No.1)</mark> and the <mark>RS2 (RNA Removal solution No.2)</mark>. <p> Note that we use the 384-well plate at A3 four times, as there are four well quadrants corresponding to each well of a 96-well plate.");
U_show_details("TIPBOX1",1);C_load_tips("TIPBOX1","C3",1,7);U_show_details("TIPBOX1",0);U_show_details("P6",1);C_pipette("D2","P6",1,10,"RS1",.6);U_show_details("P6",0);U_show_details("P10",1);C_pipette_384("A3","P10",1,1,"B1","RS1",-.2);C_pipette_384("A3","P10",1,2,"B1","RS1",-.2);C_pipette_384("A3","P10",1,3,"B1","RS1",-.2);U_show_details("P10",0);C_discard_tips();U_show_details("TIPBOX1",1);C_load_tips("TIPBOX1","C3",1,6);U_show_details("TIPBOX1",0);U_show_details("P6",1);C_pipette("D2","P6",1,
9,"RS2",.6);U_show_details("P6",0);U_show_details("P10",1);C_pipette_384("A3","P10",1,1,"B2","RS2",-.2);C_pipette_384("A3","P10",1,2,"B2","RS2",-.2);C_pipette_384("A3","P10",1,3,"B2","RS2",-.2);U_show_details("P10",0);C_discard_tips()}
function autoQuantSeq3(){U_show_narrative_extended("We now add the <mark>RS1 (RNA Removal solution No.1)</mark> reagent (from the prearrayed aliquots) to degrade the RNA template. ");U_show_details("TIPBOX1",1);C_load_tips("TIPBOX1","C3",3,3);U_show_details("TIPBOX1",0);U_show_details("P7",1);U_show_details("P10",1);C_pipette_384("A3","P10",3,1,"B1","RS1",.2);U_show_details("P10",0);C_pipette("D4","P7",3,1,"RS1",-.2);C_mix("D4","P7",3,1,"RS1",.35);C_move_head("A5");U_show_narrative_extended("The machine stops again, the operator is asked to take the plate with samples seal it with film and place it on a PCR cycler. In the cycler,the samples are <mark>incubated at 95&#x2103; for 10 minutes, then cooled down to 25&#x2103;.</mark> <p> The RNA template is being removed. <p>The operator then removes the sealing film, places the plate back on the deck, and resumes the run.");
C_move_labware("P7","Desk");C_move_labware("P7","PCR");C_prepare_and_place_plate("SealingFilmForHSP96","P7Film","PCR",null);C_heat("PCR",standardHeatTime,1);C_discard_labware("P7Film");C_move_labware("P7","Desk");C_move_labware("P7","D4");U_show_narrative_extended("We now add the <mark>RS2 (RNA Removal solution No.2)</mark> reagent (from the prearrayed aliquots). ");U_show_details("P7",1);U_show_details("P10",1);C_pipette_384("A3","P10",3,1,"B2","RS2",.2);U_show_details("P10",0);C_pipette("D4","P7",
3,1,"RS2",-.2);C_mix("D4","P7",3,1,"RS2",.35);C_discard_tips()}
function autoQuantSeq4(){U_show_narrative_extended("<em>Second strand synthesis</em> follows. It is initiated by a random primer containing an Illumina-compatible linker sequence at its 5&#8217;end <p>We broadcast the <mark>SS1 (Second strand synthesis mix No.1)</mark> reagent from the reagent plate to the samples. We do it column-by-column, and we save the tips used for the given column in a dedicated empty tip box (at C2). Then, we take all the saved tips and use them for simultaneous mixing (the tips are again seeing only the well which they were in before, so there is no contamination).");U_show_details("TIPBOX1",
1);C_load_tips("TIPBOX1","C3",1,2);U_show_details("TIPBOX1",0);U_show_details("P6",1);U_show_details("P7",1);C_pipette("D2","P6",1,7,"SS1",.2);C_pipette("D4","P7",1,1,"SS1",-.2);U_show_details("TIPBOX4",1);U_show_details("P6",0);U_show_details("P7",0);C_drop_tips("TIPBOX4","C2",1,1);U_show_details("TIPBOX4",0);U_show_details("TIPBOX1",1);C_load_tips("TIPBOX1","C3",1,1);U_show_details("TIPBOX1",0);U_show_details("P6",1);U_show_details("P7",1);C_pipette("D2","P6",1,7,"SS1",.2);C_pipette("D4","P7",1,
2,"SS1",-.2);U_show_details("TIPBOX4",1);U_show_details("P6",0);U_show_details("P7",0);C_drop_tips("TIPBOX4","C2",1,2);U_show_details("TIPBOX4",0);U_show_narrative_extended("We ran out of the tips in the tip box at C3, so we discard it and place a full one (from A1) to its position. ");C_discard_labware("TIPBOX1");C_move_labware("TIPBOX2","C3");U_show_details("TIPBOX2",1);C_load_tips("TIPBOX2","C3",1,12);U_show_details("TIPBOX2",0);U_show_details("P6",1);U_show_details("P7",1);C_pipette("D2","P6",
1,7,"SS1",.2);C_pipette("D4","P7",1,3,"SS1",-.2);U_show_details("TIPBOX4",1);U_show_details("P6",0);U_show_details("P7",0);C_drop_tips("TIPBOX4","C2",1,3);U_show_narrative_extended("Now we can take the saved tips and use them for mixing.");C_load_tips("TIPBOX4","C2",3,1);U_show_details("TIPBOX4",0);U_show_details("P7",1);C_mix("D4","P7",3,1,"SS1",.2);C_discard_tips();C_move_head("A5");U_show_narrative_extended("The machine stops for the third time, the operator is asked to take the plate with samples, seal it with film and place it on a PCR cycler. In the cycler,the samples are <mark>incubated at 98&#x2103; for 10 minutes, then cooled down slowly to 25&#x2103;.</mark> <p>The operator then removes the sealing film, places the plate back on the deck, and resumes the run.");
C_move_labware("P7","Desk");C_move_labware("P7","PCR");C_prepare_and_place_plate("SealingFilmForHSP96","P7Film","PCR",null);C_heat("PCR",standardHeatTime,1);C_discard_labware("P7Film");C_move_labware("P7","Desk");C_move_labware("P7","D4");U_show_narrative_extended("We now leave the samples <mark> incubate at 25&#x2103; for 30 minutes.</mark>  on the thermal unit located at D4.The second strand of th cDNA is being synthetized.");C_heat("D4",extraLongHeatTime,0);C_discard_labware("P10");C_move_labware("P11",
"A3");U_show_narrative_extended("During the incubation, we pre-array the reagents <mark>SS2/E2 (Second strand synthesis mix No.2 with enzyme E2)</mark> and <mark>PM/E3 (PCR mix with enzyme E3)</mark>. <p> But since the first 384-well plate has already been used up, we took a second one to its place. ");U_show_details("TIPBOX2",1);C_load_tips("TIPBOX2","C3",1,11);U_show_details("TIPBOX2",0);U_show_details("P6",1);C_pipette("D2","P6",1,6,"SS2/E2",.6);U_show_details("P6",0);U_show_details("P11",1);C_pipette_384("A3",
"P11",1,1,"A1","SS2/E2",-.2);C_pipette_384("A3","P11",1,2,"A1","SS2/E2",-.2);C_pipette_384("A3","P11",1,3,"A1","SS2/E2",-.2);U_show_details("P11",0);C_discard_tips();U_show_details("TIPBOX2",1);C_load_tips("TIPBOX2","C3",1,10);U_show_details("TIPBOX2",0);U_show_details("P6",1);C_pipette("D2","P6",1,6,"PM/E3",.9);U_show_details("P6",0);U_show_details("P11",1);C_pipette_384("A3","P11",1,1,"A2","PM/E3",-.3);C_pipette_384("A3","P11",1,2,"A2","PM/E3",-.3);C_pipette_384("A3","P11",1,3,"A2","PM/E3",-.3);
U_show_details("P11",0);C_discard_tips();C_discard_labware("P6");C_move_labware("P12","D2");U_show_narrative_extended("We add the <mark>SS2/E2 (Second strand synthesis mix No.2 with enzyme E2)</mark> reagent from the prearrayed aliquots. ");U_show_details("TIPBOX2",1);C_load_tips("TIPBOX2","C3",3,7);U_show_details("TIPBOX2",0);U_show_details("P7",1);U_show_details("P11",1);C_pipette_384("A3","P11",3,1,"A1","SS2/E2",.2);U_show_details("P11",0);C_pipette("D4","P7",3,1,"SS2/E2",-.2);C_mix("D4","P7",
3,1,"SS2/E2",.5);U_show_narrative_extended("We now leave the samples <mark> incubate at 25&#x2103; for 15 minutes.</mark>  on the thermal unit located at D4. <p> A double-stranded cDNA library is created.");C_heat("D4",standardHeatTime,0);U_wait(standardWaitTime)}
function autoQuantSeq5(){U_show_narrative_extended("Using <em>magnetic beads</em>, the double-stranded library is purified  to remove all other reaction components. We begin by thoroughly resuspending/mixing the stock of the magnetic beads.");U_show_details("P2",1);C_mix("B2a","P2",3,1,"PB",.6);U_show_narrative_extended("We transfer the magnetic beads to the reaction, mix and leave  <mark>incubate on shaker (D4) at 20&#x2103; and 500 rpm for 5 minutes </mark>. ");C_pipette("B2a","P2",3,1,"PB",.6);
U_show_details("P7",1);C_pipette("D4","P7",3,1,"PB",-.6);C_move_head("A5");U_show_details("P2",0);C_discard_labware("P2");C_move_labware("P3","A4");C_shake("P7",standardShakeTime);U_show_narrative_extended("We now move the plate with the beads to the magnetic plate at C4, leave the beads <mark>separate on magnet for 5 minutes </mark>, then aspirate the supernatant and  discard it to waste.<p>Then we take new tips</p>");C_move_labware("P7","C4");C_incubate_on_magnet("C4",standardHeatTime,1);C_pipette("C4",
"P7",3,1,"SN",1);U_show_details("WASTE",1);C_pipette("A5","WASTE",3,1,"SN",-1);C_discard_tips();U_show_details("WASTE",0);U_show_narrative_extended("We take new tips, move the plate away from the magnet, and transfer <mark>elution buffer</mark> to the beads. We let the beads resuspend in the elution buffer by <mark>incubating on shaker (D4) at 20&#x2103; and 500 rpm for 2 minutes </mark>.");U_show_details("TIPBOX2",1);C_load_tips("TIPBOX2","C3",3,4);U_show_details("TIPBOX2",0);C_move_labware("P7",
"D4");U_show_details("P4",1);C_pipette("C5","P4",3,1,"EB",.3);C_pipette("D4","P7",3,1,"EB",-.3);U_show_details("P4",0);C_mix("D4","P7",3,1,"EB",.25);C_move_head("A5");C_shake("P7",standardShakeTime);U_wait(standardShakeTime);U_show_narrative_extended("We add purification solution, mix, and again <mark>incubate on shaker (D4) at 20&#x2103; and 500 rpm for 5 minutes </mark>.");U_show_details("P3",1);C_pipette("A4","P3",3,1,"PS",.6);C_pipette("D4","P7",3,1,"PS",-.6);U_show_details("P3",0);C_mix("D4",
"P7",3,1,"PS",.7);C_move_head("D5");C_shake("P7",standardShakeTime);U_wait(standardShakeTime);U_show_narrative_extended("We move the plate back to the magnet, leave the beads <mark>separate on magnet for 5 minutes </mark>, then aspirate the supernatant and  discard it to waste.");C_move_labware("P7","C4");C_incubate_on_magnet("C4",standardHeatTime,1);C_pipette("C4","P7",3,1,"SN",1);U_show_details("WASTE",1);C_pipette("A5","WASTE",3,1,"SN",-1);U_show_details("WASTE",0);U_show_narrative_extended("We are now <mark>washing the beads with ethanol</mark>. We first remove the lid from the ethanol deep well plate, transfer some ethanol to the beads on magnet, leave them washing, then remove the ethanol and discard it to waste. <p>We repeat the same process once again for a total of two washes.</p>");
U_show_details("P1",1);C_move_labware("P1Lid","B4");C_pipette("B5","P1",3,1,"EtOH",.4);C_pipette("C4","P7",3,1,"EtOH",-.4);U_show_details("P1",0);U_show_details("WASTE",1);C_incubate_on_magnet("C4",standardHeatTime,1);C_pipette("C4","P7",3,1,"EtOH",.4);C_pipette("A5","WASTE",3,1,"EtOH",-.4);U_show_details("P1",1);C_pipette("B5","P1",3,1,"EtOH",.4);C_pipette("C4","P7",3,1,"EtOH",-.4);U_show_details("P1",0);C_incubate_on_magnet("C4",standardHeatTime,1);C_pipette("C4","P7",3,1,"EtOH",.4);C_pipette("A5",
"WASTE",3,1,"EtOH",-.4);U_show_narrative_extended("We aspirate and discard the rests of ethanol once again. Then we close the ethanol plate with the lid again and let the beads dry on the magnet for 5 minutes</mark>. Then we move the plate away from the magnet.");C_pipette("C4","P7",3,1,"EtOH",.1);C_pipette("A5","WASTE",3,1,"EtOH",-.1);C_discard_tips();U_show_details("WASTE",0);C_move_labware("P1Lid","B5");C_incubate_on_magnet("C4",standardHeatTime,1);C_move_labware("P7","D4");U_show_narrative_extended("We ran out of the tips in the work box again, so we discard it and take a new one from B1. ");
C_discard_labware("TIPBOX2");C_move_labware("TIPBOX3","C3");U_show_narrative_extended("We add <mark>elution buffer</mark>, resuspend the beads in it by mixing and then <mark>incubating on shaker (D4) at 20&#x2103; and 500 rpm for 2 minutes </mark>.");U_show_details("TIPBOX3",1);C_load_tips("TIPBOX3","C3",3,10);U_show_details("TIPBOX3",0);U_show_details("P4",1);C_pipette("C5","P4",3,1,"EB",.3);C_pipette("D4","P7",3,1,"EB",-.3);U_show_details("P4",0);C_mix("D4","P7",3,1,"EB",.25);C_discard_tips();C_shake("P7",
standardShakeTime);U_show_narrative_extended("We move the plate back to the magnet, leave the beads <mark>separate on magnet for 5 minutes </mark>, take new tips, aspirate the eluate and transfer it to a empty plate which is ready at D2.");C_move_labware("P7","C4");C_incubate_on_magnet("C4",standardHeatTime,1);U_show_details("TIPBOX3",1);C_load_tips("TIPBOX3","C3",3,7);U_show_details("TIPBOX3",0);U_show_details("P12",1);C_pipette("C4","P7",3,1,"Eluate",1);C_pipette("D2","P12",3,1,"Eluate",-.5);U_show_details("P7",
0);U_show_narrative_extended("We add the <mark>PM/E3 (PCR mix with E3 enzyme)</mark> from the prearrayed aliquots, the open the lid of the barcode plate, <mark> add the barcodes</mark>.  and mix.");U_show_details("P11",1);C_pipette_384("A3","P11",3,1,"A2","PM/E3",.3);U_show_details("P11",0);C_pipette("D2","P12",3,1,"PM/E3",-.3);C_discard_labware("P5Lid");C_pipette("A2","P5",3,1,"BC",.6);C_pipette("D2","P12",3,1,"BC",-.6);C_mix("D2","P12",3,1,"BC",.5);U_show_narrative_extended("We discard the tips, move head to a rear position where it will not obstruct the deck. The plate with the libraries is ready for amplification. <p>This completes the first (prePCR) phase of the <mark>autoQuantSeq</mark> protocol.</p>");
C_discard_tips();C_move_head("A1");C_move_labware("P12","Desk")}
function autoQuantSeq6(){U_show_narrative_extended("To <mark>amplify the libraries</mark>, we place the plate to the PCR cycler and run the following program (typically 12 cycles): <p>98&#x2103; for 10 seconds</p><p>65&#x2103; for 20 seconds</p><p>72&#x2103; for 30 seconds</p>");C_move_labware("P12","PCR");C_prepare_and_place_plate("SealingFilmForHSP96","P12Film","PCR",null);C_heat("PCR",standardHeatTime,1);C_heat("PCR",standardHeatTime,1);C_discard_labware("P12Film");U_show_narrative_extended("The PostPCR purification step follows. This step will be presented on another deck type, similar to the <em>PerkinElmer Zephyr</em> liquid handler.");
U_wait(standardWaitTime);C_set_deck("ZEPHYR");C_prepare_and_place_plate("HSP96","P12","PCR",[{column:1,liquidClass:"BC",relativeVolume:.6},{column:2,liquidClass:"BC",relativeVolume:.6},{column:3,liquidClass:"BC",relativeVolume:.6}],{columnShownTo:2});U_show_narrative_extended("We have to fill the labware with reagents and place it on the deck.");U_show_details("PIPETTOR1",0);C_prepare_and_place_tip_box("TIPBOX11","C3",1);U_show_details("P12",0);U_show_details("TIPBOX11",0);U_show_narrative_extended("We place a <mark>deepwell plate for waste</mark> and another <mark>deep well plate filled with ethanol</mark>. ");
C_prepare_and_place_plate("DeepWell96","WASTE2","B4",null,{columnShownTo:2});C_prepare_and_place_plate("DeepWell96","P11","C4",[{column:1,liquidClass:"EtOH",relativeVolume:.9},{column:2,liquidClass:"EtOH",relativeVolume:.9},{column:3,liquidClass:"EtOH",relativeVolume:.9}],{columnShownTo:2});U_show_details("WASTE2",0);U_show_narrative_extended("We fill an <mark>HSP-96 plate with magnetic beads</mark> and place it on deck. ");C_prepare_and_place_plate("HSP96","P22","C2",[{column:1,liquidClass:"PB",
relativeVolume:.6},{column:2,liquidClass:"PB",relativeVolume:.6},{column:3,liquidClass:"PB",relativeVolume:.6}],{columnShownTo:2});U_show_details("P11",0);U_show_narrative_extended("We fill an <mark>HSP-96 plate with elution buffer</mark> and place it on deck. ");C_prepare_and_place_plate("HSP96","P23","B2",[{column:1,liquidClass:"EB",relativeVolume:.6},{column:2,liquidClass:"EB",relativeVolume:.6},{column:3,liquidClass:"EB",relativeVolume:.6}],{columnShownTo:2});U_show_details("P22",0);U_show_narrative_extended("We add an empty HSP-96 plate to be filled with the final purified libraries. ");
U_show_details("P23",0);C_prepare_and_place_plate("HSP96","P24","B3",null,{columnShownTo:2});U_show_narrative_extended("Finally, we place the plate with amplified libraries on the deck and start the run.");C_move_labware("P12","A3");U_show_narrative_extended("The run starts by adding the samples to the magnetic beads.");U_show_details("PIPETTOR1",1);U_show_details("P24",0);U_show_details("TIPBOX11",1);C_load_tips("TIPBOX11","C3",3,10);U_show_details("TIPBOX11",0);U_show_details("P12",1);U_show_details("P22",
1);C_pipette("A3","P12",3,1,"BC",.6);C_pipette("C2","P22",3,1,"BC",-.6);U_show_details("P12",0);C_mix("C2","P22",3,1,"BC",.4);U_show_narrative_extended("The machine stops and the operator is asked to remove the used plate from the deck, then to resume the run.");C_discard_labware("P12");U_show_details("P22",0);U_show_narrative_extended("We do some labware moves to free the location we will need ... ");C_move_labware("P24","A3");C_move_labware("P22","B3");C_move_labware("P24","C2");U_show_narrative_extended("The libraries are now <mark>incubating on shaker (B3) at 25&#x2103; and 500 rpm for 10 minutes </mark>.");
U_show_details("P22",1);C_shake("P22",standardShakeTime);U_wait(standardShakeTime);U_show_narrative_extended("We move the plate to the magnet, leave the beads <mark>separate on magnet for 10 minutes </mark>, then aspirate the supernatant and  discard it to waste.");U_show_details("P22",1);C_move_labware("P22","A3");C_incubate_on_magnet("A3",standardHeatTime,1);C_pipette("A3","P22",3,1,"SN",1);U_show_details("WASTE2",1);C_pipette("B4","WASTE2",3,1,"SN",-1);U_show_details("WASTE2",0);C_discard_tips("A4");
U_show_narrative_extended("We are now <mark>washing the beads with ethanol</mark>.  We transfer some ethanol to the beads on magnet, leave them washing, then remove the ethanol and discard it to waste. <p>We repeat the same process once again for a total of two washes.</p>");U_show_details("P21",1);C_load_tips("TIPBOX11","C3",3,7);C_pipette("C4","P21",3,1,"EtOH",.45);C_pipette("A3","P22",3,1,"EtOH",-.45);U_show_details("P21",0);U_show_details("WASTE2",1);C_incubate_on_magnet("A3",standardHeatTime,
1);C_pipette("A3","P22",3,1,"EtOH",.45);C_pipette("B4","WASTE2",3,1,"EtOH",-.45);U_show_details("WASTE2",0);U_show_details("P21",1);C_pipette("C4","P21",3,1,"EtOH",.45);C_pipette("A3","P22",3,1,"EtOH",-.45);U_show_details("P21",0);U_show_details("WASTE2",1);C_incubate_on_magnet("A3",standardHeatTime,1);C_pipette("A3","P22",3,1,"EtOH",.45);C_pipette("B4","WASTE2",3,1,"EtOH",-.45);U_show_narrative_extended("We aspirate and discard the rests of ethanol once again. Then we close the ethanol plate with the lid again and let the beads dry on the magnet for 5 minutes</mark>. Then we move the plate away from the magnet.");
C_pipette("A3","P22",3,1,"EtOH",.1);C_pipette("B4","WASTE2",3,1,"EtOH",-.1);C_discard_tips("A4");U_show_narrative_extended("We move the plate to a thermal unit and leave the beads <mark>drying out at 37&#x2103; for 3 minutes </mark>, then we cool down the plate to 25&#x2103;");C_move_labware("P22","B3");U_show_details("WASTE2",0);C_heat("B3",standardHeatTime,1);U_show_narrative_extended("We transfer <mark>elution buffer</mark> to the beads and resuspend them by mixing  and <mark>shaking (B3) at 25&#x2103; and 500 rpm for 3 minutes </mark>.");
U_show_details("P23",1);C_load_tips("TIPBOX11","C3",3,4);C_pipette("B2","P23",3,1,"EB",.6);C_pipette("B3","P22",3,1,"EB",-.6);C_mix("B3","P22",3,1,"EB",.5);U_show_details("P23",0);C_shake("P22",standardShakeTime);U_wait(standardShakeTime);U_show_narrative_extended("We move the plate to the magnet, leave the beads <mark>separate on magnet for 3 minutes </mark>, then, using new tips,  transfer the supernatant to the final plate");U_show_details("P22",1);C_move_labware("P22","A3");C_incubate_on_magnet("A3",
standardHeatTime,1);U_show_details("TIPBOX11",1);C_load_tips("TIPBOX11","C3",3,1);U_show_details("TIPBOX11",0);U_show_details("P24",1);C_pipette("A3","P22",3,1,"SN",.6);C_pipette("C2","P24",3,1,"SN",-.6);C_discard_tips("A4");C_move_head("A2");C_move_labware("P22","A3");U_show_narrative_extended("<mark>The protocol is finished</mark>. The final plate contains purified RNA libraries.");C_move_labware("P22","Desk");U_wait(standardWaitTime)};function autoQuantSeq_STAR_1(){C_set_deck("STARNGS");U_show_narrative_extended("You are watching a simulation of the <mark>autoQuantSeq</mark> automated protocol for 24 samples running on a liquid handler similar to <em>Hamilton STAR NGS</em>.<p>This is the run preparation phase. The operator has to fill the labware with defined reagents and place the carriers with labware on the deck.");U_wait(standardWaitTime);U_show_narrative_extended("We begin by placing some tip racks on the deck. ");U_show_details("PIPETTOR1",
0);C_prepare_and_place_tip_box("TIPBOX1","T11",1);U_show_details("TIPBOX1",0);C_prepare_and_place_tip_box("TIPBOX2","T12",1);U_show_details("TIPBOX2",0);C_prepare_and_place_plate("TubeCarrier32","CAR1","E1",null,{wellsToShowString:"1 2 3 4 5 6 "});C_prepare_and_place_plate("TroughCarrier5","CAR2","W3",[{wellId:"1",liquidClass:"PS",relativeVolume:.6},{wellId:"2",liquidClass:"EB",relativeVolume:.6},{wellId:"4",liquidClass:"EtOH",relativeVolume:.8},{wellId:"5",liquidClass:"PB",relativeVolume:.6}],{wellsToShowString:"1 2 3 4 5"});
U_show_details("CAR1",0);C_prepare_and_place_plate("CoolTubeModule","TCA","Cool",[{wellId:"1",liquidClass:"FS1",relativeVolume:.5},{wellId:"2",liquidClass:"FS2E1",relativeVolume:.5},{wellId:"3",liquidClass:"RS1",relativeVolume:.5},{wellId:"4",liquidClass:"RS2",relativeVolume:.5},{wellId:"5",liquidClass:"SS1",relativeVolume:.5},{wellId:"6",liquidClass:"SS2E2",relativeVolume:.5},{wellId:"7",liquidClass:"PME3",relativeVolume:.5}],{wellsToShowString:"1 2 3 4 5 6 7"});U_show_details("CAR2",0);C_prepare_and_place_plate("HSP96",
"P1","1",[{column:1,liquidClass:"BC",relativeVolume:.6},{column:2,liquidClass:"BC",relativeVolume:.6},{column:3,liquidClass:"BC",relativeVolume:.6}],{columnShownTo:2});U_show_details("P1",0);C_prepare_and_place_plate("HSP96","P2","2",[{column:1,liquidClass:"SMP",relativeVolume:.2},{column:2,liquidClass:"SMP",relativeVolume:.2},{column:3,liquidClass:"SMP",relativeVolume:.2}],{columnShownTo:2});U_show_details("P1",0);U_show_details("P2",0);U_wait(standardWaitTime);U_show_narrative_extended("Deck setup is finished. Now the operator starts the run. ");
U_wait(standardWaitTime)};function DEMO1(){C_prepare_and_place_tip_box("TIPBOX1","C3",1);C_prepare_and_place_plate("HSP96","P2","D4",[{column:"1",liquidClass:"LiquidClassRed",relativeVolume:.9}],{columnShownTo:5});C_load_tips("TIPBOX1","C3",1,1);C_pipette("D4","P2",1,1,"LiquidClassRed",.9);C_pipette("D4","P2",1,2,"LiquidClassRed",-.9);C_discard_tips()};
